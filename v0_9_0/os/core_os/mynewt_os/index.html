<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="http://mynewt.apache.org/os/core_os/mynewt_os/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>toc - Apache Mynewt</title>
        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-72162311-1', 'auto');
            ga('send', 'pageview');
        </script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../../..">Apache Mynewt</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="../../..">Home</a>
                            </li>
                            <li >
                                <a href="../../../quick-start/">Quick Start</a>
                            </li>
                            <li >
                                <a href="../../../about/">About</a>
                            </li>
                            <li >
                                <a href="../../../download/">Download</a>
                            </li>
                            <li >
                                <a href="../../../community/">Community</a>
                            </li>
                            <li >
                                <a href="../../../events/">Events</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Mynewt Documentation <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../introduction/">toc</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Basic Setup</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../get_started/get_started/">toc</a>
</li>
            
<li >
    <a href="../../get_started/docker/">Docker Container Option</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Native install Option</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../get_started/native_tools/">toc</a>
</li>
            
<li >
    <a href="../../../newt/install/newt_mac/">Install Newt on Mac</a>
</li>
            
<li >
    <a href="../../../newt/install/newt_linux/">Install Newt on Linux</a>
</li>
            
<li >
    <a href="../../get_started/cross_tools/">Install Cross Tools for ARM</a>
</li>
    </ul>
  </li>
            
<li >
    <a href="../../get_started/project_create/">Create Your First Project</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../get_started/vocabulary/">Concepts</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Tutorials</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../tutorials/tutorials/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Project Blinky</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../tutorials/arduino_zero/">Blinky on Arduino Zero</a>
</li>
            
<li >
    <a href="../../tutorials/blinky_primo/">Blinky on Arduino Primo</a>
</li>
            
<li >
    <a href="../../tutorials/olimex/">Blinky on Olimex</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Blinky on STM32F303</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../tutorials/STM32F303/">toc</a>
</li>
            
<li >
    <a href="../../tutorials/pin-wheel-mods/">Pinwheel Blinky</a>
</li>
    </ul>
  </li>
            
<li >
    <a href="../../tutorials/nRF52/">Blinky on nRF52</a>
</li>
            
<li >
    <a href="../../tutorials/blinky_sram_olimex/">Run Blinky from SRAM, no bootloader</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Work with repositories</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../tutorials/repo/add_repos/">toc</a>
</li>
            
<li >
    <a href="../../tutorials/repo/upgrade_repo/">Upgrade a repo</a>
</li>
            
<li >
    <a href="../../tutorials/repo/create_repo/">Turn project into a repo</a>
</li>
    </ul>
  </li>
            
<li >
    <a href="../../tutorials/unit_test/">Write a Test Suite for a Package</a>
</li>
            
<li >
    <a href="../../tutorials/air_quality_sensor/">Air-quality Sensor project</a>
</li>
            
<li >
    <a href="../../tutorials/event_queue/">Add task to manage multiple events</a>
</li>
            
<li >
    <a href="../../tutorials/project-slinky/">Enable remote comms on sim device</a>
</li>
            
<li >
    <a href="../../tutorials/project-target-slinky/">Enable remote comms on STM32 board</a>
</li>
            
<li >
    <a href="../../tutorials/bletiny_project/">BLE app to check stats via console</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">BLE peripheral project</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../tutorials/bleprph/bleprph-intro/">toc</a>
</li>
            
<li >
    <a href="../../tutorials/bleprph/bleprph-svc-reg/">Service Registration</a>
</li>
            
<li >
    <a href="../../tutorials/bleprph/bleprph-chr-access/">Characteristic Access</a>
</li>
            
<li >
    <a href="../../tutorials/bleprph/bleprph-adv/">Advertising</a>
</li>
            
<li >
    <a href="../../tutorials/bleprph/bleprph-conn/">Connection Callbacks</a>
</li>
    </ul>
  </li>
            
<li >
    <a href="../../tutorials/ibeacon/">BLE iBeacon</a>
</li>
            
<li >
    <a href="../../tutorials/blehci_project/">BLE HCI interface</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">OS User Guide</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../os_user_guide/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">OS Core</a>
    <ul class="dropdown-menu">
            
<li class="active">
    <a href="./">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">System-level Functions</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../os_init/">os_init</a>
</li>
            
<li >
    <a href="../os_start/">os_start</a>
</li>
            
<li >
    <a href="../os_started/">os_started</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Scheduler</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../context_switch/context_switch/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../context_switch/os_sched/">os_sched</a>
</li>
            
<li >
    <a href="../context_switch/os_arch_ctx_sw/">os_arch_ctx_sw</a>
</li>
            
<li >
    <a href="../context_switch/os_sched_ctx_sw_hook/">os_sched_ctx_sw_hook</a>
</li>
            
<li >
    <a href="../context_switch/os_sched_get_current_task/">os_sched_get_current_task</a>
</li>
            
<li >
    <a href="../context_switch/os_sched_insert/">os_sched_insert</a>
</li>
            
<li >
    <a href="../context_switch/os_sched_next_task/">os_sched_next_task</a>
</li>
            
<li >
    <a href="../context_switch/os_sched_os_timer_exp/">os_sched_os_timer_exp</a>
</li>
            
<li >
    <a href="../context_switch/os_sched_resort/">os_sched_resort</a>
</li>
            
<li >
    <a href="../context_switch/os_sched_set_current_task/">os_sched_set_current_task</a>
</li>
            
<li >
    <a href="../context_switch/os_sched_sleep/">os_sched_sleep</a>
</li>
            
<li >
    <a href="../context_switch/os_sched_wakeup/">os_sched_wakeup</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Time</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../time/os_time/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../time/os_time_delay/">os_time_delay</a>
</li>
            
<li >
    <a href="../time/os_time_get/">os_time_get</a>
</li>
            
<li >
    <a href="../time/os_time_tick/">os_time_tick</a>
</li>
            
<li >
    <a href="../time/os_gettimeofday/">os_gettimeofday</a>
</li>
            
<li >
    <a href="../time/os_settimeofday/">os_settimeofday</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Tasks</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../task/task/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../task/os_task_count/">os_task_count</a>
</li>
            
<li >
    <a href="../task/os_task_info_get_next/">os_task_info_get_next</a>
</li>
            
<li >
    <a href="../task/os_task_init/">os_task_init</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Event Queues</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../event_queue/event_queue/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../event_queue/os_eventq_get/">os_eventq_get</a>
</li>
            
<li >
    <a href="../event_queue/os_eventq_init/">os_eventq_init</a>
</li>
            
<li >
    <a href="../event_queue/os_eventq_put/">os_eventq_put</a>
</li>
            
<li >
    <a href="../event_queue/os_eventq_remove/">os_eventq_remove</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Semaphores</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../semaphore/semaphore/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../semaphore/os_sem_init/">os_sem_init</a>
</li>
            
<li >
    <a href="../semaphore/os_sem_pend/">os_sem_pend</a>
</li>
            
<li >
    <a href="../semaphore/os_sem_release/">os_sem_release</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Mutexes</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../mutex/mutex/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../mutex/os_mutex_init/">os_mutex_init</a>
</li>
            
<li >
    <a href="../mutex/os_mutex_pend/">os_mutex_pend</a>
</li>
            
<li >
    <a href="../mutex/os_mutex_release/">os_mutex_release</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Memory Pools</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../memory_pool/memory_pool/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions/Macros</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../memory_pool/os_memblock_get/">os_memblock_get</a>
</li>
            
<li >
    <a href="../memory_pool/os_mempool_init/">os_mempool_init</a>
</li>
            
<li >
    <a href="../memory_pool/os_memblock_put/">os_memblock_put</a>
</li>
            
<li >
    <a href="../memory_pool/OS_MEMPOOL_BYTES/">OS_MEMPOOL_BYTES</a>
</li>
            
<li >
    <a href="../memory_pool/OS_MEMPOOL_SIZE/">OS_MEMPOOL_SIZE</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Heap</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../heap/heap/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../heap/os_free/">os_free</a>
</li>
            
<li >
    <a href="../heap/os_malloc/">os_malloc</a>
</li>
            
<li >
    <a href="../heap/os_realloc/">os_realloc</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Memory Buffers</a>
    <ul class="dropdown-menu">
            
  <li class="dropdown-submenu">
    <a href="#">Mbuf</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../mbuf/mbuf/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions/Macros</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../mbuf/OS_MBUF_PKTHDR/">OS_MBUF_PKTHDR</a>
</li>
            
<li >
    <a href="../mbuf/OS_MBUF_PKTHDR_TO_MBUF/">OS_MBUF_PKTHDR_TO_MBUF</a>
</li>
            
<li >
    <a href="../mbuf/OS_MBUF_PKTLEN/">OS_MBUF_PKTLEN</a>
</li>
            
<li >
    <a href="../mbuf/OS_MBUF_DATA/">OS_MBUF_DATA</a>
</li>
            
<li >
    <a href="../mbuf/OS_MBUF_USRHDR/">OS_MBUF_USRHDR</a>
</li>
            
<li >
    <a href="../mbuf/OS_MBUF_USRHDR_LEN/">OS_MBUF_USRHDR_LEN</a>
</li>
            
<li >
    <a href="../mbuf/OS_MBUF_LEADINGSPACE/">OS_MBUF_LEADINGSPACE</a>
</li>
            
<li >
    <a href="../mbuf/OS_MBUF_TRAILINGSPACE/">OS_MBUF_TRAILINGSPACE</a>
</li>
            
<li >
    <a href="../mbuf/os_mbuf_adj/">os_mbuf_adj</a>
</li>
            
<li >
    <a href="../mbuf/os_mbuf_append/">os_mbuf_append</a>
</li>
            
<li >
    <a href="../mbuf/os_mbuf_concat/">os_mbuf_concat</a>
</li>
            
<li >
    <a href="../mbuf/os_mbuf_copydata/">os_mbuf_copydata</a>
</li>
            
<li >
    <a href="../mbuf/os_mbuf_copyinto/">os_mbuf_copyinto</a>
</li>
            
<li >
    <a href="../mbuf/os_mbuf_dup/">os_mbuf_dup</a>
</li>
            
<li >
    <a href="../mbuf/os_mbuf_extend/">os_mbuf_extend</a>
</li>
            
<li >
    <a href="../mbuf/os_mbuf_free_chain/">os_mbuf_free_chain</a>
</li>
            
<li >
    <a href="../mbuf/os_mbuf_get/">os_mbuf_get</a>
</li>
            
<li >
    <a href="../mbuf/os_mbuf_get_pkthdr/">os_mbuf_get_pkthdr</a>
</li>
            
<li >
    <a href="../mbuf/os_mbuf_memcmp/">os_mbuf_memcmp</a>
</li>
            
<li >
    <a href="../mbuf/os_mbuf_off/">os_mbuf_off</a>
</li>
            
<li >
    <a href="../mbuf/os_mbuf_pool_init/">os_mbuf_pool_init</a>
</li>
            
<li >
    <a href="../mbuf/os_mbuf_prepend/">os_mbuf_prepend</a>
</li>
            
<li >
    <a href="../mbuf/os_mbuf_pullup/">os_mbuf_pullup</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Msys</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../msys/msys/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../msys/os_msys_get/">os_msys_get</a>
</li>
            
<li >
    <a href="../msys/os_msys_get_pkthdr/">os_msys_get_pkthdr</a>
</li>
            
<li >
    <a href="../msys/os_msys_register/">os_msys_register</a>
</li>
            
<li >
    <a href="../msys/os_msys_reset/">os_msys_reset</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">MQueue</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../mqueue/mqueue/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../mqueue/os_mqueue_init/">os_mqueue_init</a>
</li>
            
<li >
    <a href="../mqueue/os_mqueue_get/">os_mqueue_get</a>
</li>
            
<li >
    <a href="../mqueue/os_mqueue_put/">os_mqueue_put</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Sanity</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../sanity/sanity/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../sanity/os_sanity_check_init/">os_sanity_check_init</a>
</li>
            
<li >
    <a href="../sanity/os_sanity_check_register/">os_sanity_check_register</a>
</li>
            
<li >
    <a href="../sanity/os_sanity_check_reset/">os_sanity_check_reset</a>
</li>
            
<li >
    <a href="../sanity/os_sanity_task_checkin/">os_sanity_task_checkin</a>
</li>
            
<li >
    <a href="../sanity/os_sanity_task_init/">os_sanity_task_init</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Callouts</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../callout/callout/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../callout/os_callout_func_init/">os_callout_func_init</a>
</li>
            
<li >
    <a href="../callout/os_callout_init/">os_callout_init</a>
</li>
            
<li >
    <a href="../callout/os_callout_queued/">os_callout_queued</a>
</li>
            
<li >
    <a href="../callout/os_callout_reset/">os_callout_reset</a>
</li>
            
<li >
    <a href="../callout/os_callout_stop/">os_callout_stop</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Porting to your Platform</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../porting/port_os/">toc</a>
</li>
            
<li >
    <a href="../porting/port_bsp/">BSP Porting</a>
</li>
            
<li >
    <a href="../porting/port_mcu/">MCU Porting</a>
</li>
            
<li >
    <a href="../porting/port_cpu/">CPU Porting</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Console</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/console/console/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/console/console_blocking_mode/">console_blocking_mode</a>
</li>
            
<li >
    <a href="../../modules/console/console_echo/">console_echo</a>
</li>
            
<li >
    <a href="../../modules/console/console_init/">console_init</a>
</li>
            
<li >
    <a href="../../modules/console/console_is_init/">console_is_init</a>
</li>
            
<li >
    <a href="../../modules/console/console_printf/">console_printf</a>
</li>
            
<li >
    <a href="../../modules/console/console_read/">console_read</a>
</li>
            
<li >
    <a href="../../modules/console/console_write/">console_write</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Shell</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/shell/shell/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/shell/shell_task_init/">shell_task_init</a>
</li>
            
<li >
    <a href="../../modules/shell/shell_cmd_register/">shell_cmd_register</a>
</li>
            
<li >
    <a href="../../modules/shell/shell_nlip_input_register/">shell_nlip_input_register</a>
</li>
            
<li >
    <a href="../../modules/shell/shell_nlip_output/">shell_nlip_output</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Bootloader</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/bootloader/bootloader/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/bootloader/boot_build_status/">boot_build_status</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_build_status_one/">boot_build_status_one</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_clear_status/">boot_clear_status</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_copy_area/">boot_copy_area</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_copy_image/">boot_copy_image</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_erase_area/">boot_erase_area</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_fill_slot/">boot_fill_slot</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_find_image_area_idx/">boot_find_image_area_idx</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_find_image_part/">boot_find_image_part</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_find_image_slot/">boot_find_image_slot</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_go/">boot_go</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_init_flash/">boot_init_flash</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_move_area/">boot_move_area</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_read_image_header/">boot_read_image_header</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_read_image_headers/">boot_read_image_headers</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_read_status/">boot_read_status</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_select_image_slot/">boot_select_image_slot</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_slot_addr/">boot_slot_addr</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_slot_to_area_idx/">boot_slot_to_area_idx</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_swap_areas/">boot_swap_areas</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_vect_delete_main/">boot_vect_delete_main</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_vect_delete_test/">boot_vect_delete_test</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_vect_read_main/">boot_vect_read_main</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_vect_read_one/">boot_vect_read_one</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_vect_read_test/">boot_vect_read_test</a>
</li>
            
<li >
    <a href="../../modules/bootloader/boot_write_status/">boot_write_status</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">File System</a>
    <ul class="dropdown-menu">
            
  <li class="dropdown-submenu">
    <a href="#">File System Abstraction</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/fs/fs/fs/">toc</a>
</li>
            
<li >
    <a href="../../modules/fs/fs/fs_return_codes/">Return Codes</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Data Structures</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/fs/fs/fs_ops/">struct fs_ops</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/fs/fs/fs_close/">fs_close</a>
</li>
            
<li >
    <a href="../../modules/fs/fs/fs_closedir/">fs_closedir</a>
</li>
            
<li >
    <a href="../../modules/fs/fs/fs_dirent_is_dir/">fs_dirent_is_dir</a>
</li>
            
<li >
    <a href="../../modules/fs/fs/fs_dirent_name/">fs_dirent_name</a>
</li>
            
<li >
    <a href="../../modules/fs/fs/fs_filelen/">fs_filelen</a>
</li>
            
<li >
    <a href="../../modules/fs/fs/fs_getpos/">fs_getpos</a>
</li>
            
<li >
    <a href="../../modules/fs/fs/fs_mkdir/">fs_mkdir</a>
</li>
            
<li >
    <a href="../../modules/fs/fs/fs_open/">fs_open</a>
</li>
            
<li >
    <a href="../../modules/fs/fs/fs_opendir/">fs_opendir</a>
</li>
            
<li >
    <a href="../../modules/fs/fs/fs_read/">fs_read</a>
</li>
            
<li >
    <a href="../../modules/fs/fs/fs_readdir/">fs_readdir</a>
</li>
            
<li >
    <a href="../../modules/fs/fs/fs_register/">fs_register</a>
</li>
            
<li >
    <a href="../../modules/fs/fs/fs_rename/">fs_rename</a>
</li>
            
<li >
    <a href="../../modules/fs/fs/fs_seek/">fs_seek</a>
</li>
            
<li >
    <a href="../../modules/fs/fs/fs_unlink/">fs_unlink</a>
</li>
            
<li >
    <a href="../../modules/fs/fs/fs_write/">fs_write</a>
</li>
            
<li >
    <a href="../../modules/fs/fs/fsutil_read_file/">fsutil_read_file</a>
</li>
            
<li >
    <a href="../../modules/fs/fs/fsutil_write_file/">fsutil_write_file</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Newtron Flash File System</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/fs/nffs/nffs/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Data Structures</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/fs/nffs/nffs_area_desc/">struct nffs_area_desc</a>
</li>
            
<li >
    <a href="../../modules/fs/nffs/nffs_config/">struct nffs_config</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/fs/nffs/nffs_detect/">nffs_detect</a>
</li>
            
<li >
    <a href="../../modules/fs/nffs/nffs_format/">nffs_format</a>
</li>
            
<li >
    <a href="../../modules/fs/nffs/nffs_init/">nffs_init</a>
</li>
    </ul>
  </li>
            
<li >
    <a href="../../modules/fs/nffs/nffs_internals/">Internals</a>
</li>
    </ul>
  </li>
            
<li >
    <a href="../../modules/fs/otherfs/">Other File Systems</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Hardware Abstraction Layer</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/hal/hal/">toc</a>
</li>
            
<li >
    <a href="../../modules/hal/hal_architecture/">Architecture</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">API</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/hal/hal_api/">Summary</a>
</li>
            
<li >
    <a href="../../modules/hal/hal_adc/hal_adc/">ADC</a>
</li>
            
<li >
    <a href="../../modules/hal/hal_cputime/hal_cpu_timer/">CPU timer</a>
</li>
            
<li >
    <a href="../../modules/hal/hal_dac/hal_dac/">DAC</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Flash memory</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/hal/hal_flash/hal_flash/">Overview</a>
</li>
            
<li >
    <a href="../../modules/hal/hal_flash/hal_flash_int/">flash_int</a>
</li>
            
<li >
    <a href="../../modules/hal/hal_flash/hal_flash_map/">flash_map</a>
</li>
    </ul>
  </li>
            
<li >
    <a href="../../modules/hal/hal_gpio/hal_gpio/">GPIO</a>
</li>
            
<li >
    <a href="../../modules/hal/hal_i2c/hal_i2c/">I2C</a>
</li>
            
<li >
    <a href="../../modules/hal/hal_pwm/hal_pwm/">PWM</a>
</li>
            
<li >
    <a href="../../modules/hal/hal_spi/hal_spi/">SPI</a>
</li>
            
<li >
    <a href="../../modules/hal/hal_system/hal_sys/">System</a>
</li>
            
<li >
    <a href="../../modules/hal/hal_uart/hal_uart/">UART</a>
</li>
    </ul>
  </li>
            
<li >
    <a href="../../modules/hal/hal_in_libraries/">Using HAL</a>
</li>
            
<li >
    <a href="../../modules/hal/hal_creation/">Creating HAL</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Test Utilities</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/testutil/testutil/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions/Macros</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/testutil/tu_init/">tu_init</a>
</li>
            
<li >
    <a href="../../modules/testutil/test_assert/">TEST_ASSERT</a>
</li>
            
<li >
    <a href="../../modules/testutil/test_pass/">TEST_PASS</a>
</li>
            
<li >
    <a href="../../modules/testutil/test_suite/">TEST_SUITE</a>
</li>
            
<li >
    <a href="../../modules/testutil/test_case/">TEST_CASE</a>
</li>
            
<li >
    <a href="../../modules/testutil/test_decl/">TEST_CASE_DECL</a>
</li>
            
<li >
    <a href="../../modules/testutil/tu_restart/">tu_restart</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Image Manager</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/imgmgr/imgmgr/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/imgmgr/imgmgr_module_init/">imgmgr_module_init</a>
</li>
            
<li >
    <a href="../../modules/imgmgr/imgr_ver_parse/">imgr_ver_parse</a>
</li>
            
<li >
    <a href="../../modules/imgmgr/imgr_ver_str/">imgr_ver_str</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
<li >
    <a href="../../modules/baselibc/">Baselibc library</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Embedded Lua</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/elua/elua/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/elua/lua_init/">lua_init</a>
</li>
            
<li >
    <a href="../../modules/elua/lua_main/">lua_main</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">JSON</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/json/json/">toc</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Functions</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/json/json_encode_object_entry/">json_encode_object_entry</a>
</li>
            
<li >
    <a href="../../modules/json/json_encode_object_finish/">json_encode_object_finish</a>
</li>
            
<li >
    <a href="../../modules/json/json_encode_object_key/">json_encode_object_key</a>
</li>
            
<li >
    <a href="../../modules/json/json_encode_object_start/">json_encode_object_start</a>
</li>
            
<li >
    <a href="../../modules/json/json_read_object/">json_read_object</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Stats</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/stats/stats/">toc</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Logs</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../modules/logs/logs/">toc</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">BLE User Guide</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../network/ble/ble_intro/">NimBLE Introduction</a>
</li>
            
<li >
    <a href="../../../network/ble/ble_sec/">NimBLE Security</a>
</li>
            
<li >
    <a href="../../../network/ble/nimble_setup/">Set up application</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Initialize stack</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../network/ble/ini_stack/ble_ini_intro/">toc</a>
</li>
            
<li >
    <a href="../../../network/ble/ini_stack/ble_add_cpu/">Add cputime</a>
</li>
            
<li >
    <a href="../../../network/ble/ini_stack/ble_mempool/">Create mem pool</a>
</li>
            
<li >
    <a href="../../../network/ble/ini_stack/ble_devadd/">Initialize device addr</a>
</li>
            
<li >
    <a href="../../../network/ble/ini_stack/ble_statpkg/">Initialize stats pkg</a>
</li>
            
<li >
    <a href="../../../network/ble/ini_stack/ble_consolepkg/">Initialize console pkg</a>
</li>
            
<li >
    <a href="../../../network/ble/ini_stack/ble_controller_ini/">Initialize controller</a>
</li>
            
<li >
    <a href="../../../network/ble/ini_stack/ble_parent_ini/">Initialize parent task</a>
</li>
            
<li >
    <a href="../../../network/ble/ini_stack/ble_host_ini/">Initialize host</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">API for bletiny app</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../network/ble/bletiny_api/">toc</a>
</li>
            
<li >
    <a href="../../../network/ble/bletiny/bletiny_GAP/">GAP in bletiny</a>
</li>
            
<li >
    <a href="../../../network/ble/bletiny/bletiny_GATT/">GATT in bletiny</a>
</li>
            
<li >
    <a href="../../../network/ble/bletiny/bletiny_advdata/">Advertisement Data Fields</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Newt Tool Guide</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../newt/newt_intro/">toc</a>
</li>
            
<li >
    <a href="../../../newt/newt_operation/">Newt Theory of Ops</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Command Guide</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../newt/newt_ops/">toc</a>
</li>
            
<li >
    <a href="../../../newt/command_list/newt_build/">newt build</a>
</li>
            
<li >
    <a href="../../../newt/command_list/newt_clean/">newt clean</a>
</li>
            
<li >
    <a href="../../../newt/command_list/newt_create_image/">newt create-image</a>
</li>
            
<li >
    <a href="../../../newt/command_list/newt_debug/">newt debug</a>
</li>
            
<li >
    <a href="../../../newt/command_list/newt_help/">newt help</a>
</li>
            
<li >
    <a href="../../../newt/command_list/newt_info/">newt info</a>
</li>
            
<li >
    <a href="../../../newt/command_list/newt_install/">newt install</a>
</li>
            
<li >
    <a href="../../../newt/command_list/newt_load/">newt load</a>
</li>
            
<li >
    <a href="../../../newt/command_list/newt_new/">newt new</a>
</li>
            
<li >
    <a href="../../../newt/command_list/newt_run/">newt run</a>
</li>
            
<li >
    <a href="../../../newt/command_list/newt_size/">newt size</a>
</li>
            
<li >
    <a href="../../../newt/command_list/newt_target/">newt target</a>
</li>
            
<li >
    <a href="../../../newt/command_list/newt_test/">newt test</a>
</li>
            
<li >
    <a href="../../../newt/command_list/newt_upgrade/">newt upgrade</a>
</li>
            
<li >
    <a href="../../../newt/command_list/newt_version/">newt version</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Newt Manager Guide</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../newtmgr/overview/">toc</a>
</li>
            
<li >
    <a href="../../../newtmgr/installing/">Install</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../../known_issues/">Known Issues</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Appendix <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../faq/how_to_edit_docs/">Edit Docs</a>
</li>
                                    
<li >
    <a href="../../../faq/answers/">FAQ</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../../os_user_guide/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../os_init/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#mynewt-core-os">Mynewt Core OS</a></li>
            <li><a href="#why-use-an-os">Why use an OS?</a></li>
            <li><a href="#core-os-features">Core OS Features</a></li>
            <li><a href="#basic-os-application-creation">Basic OS Application Creation</a></li>
            <li><a href="#example">Example</a></li>
            <li><a href="#os-functions">OS Functions</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="mynewt-core-os">Mynewt Core OS</h1>
<p>The Mynewt Core OS is a multitasking, preemptive real-time operating system combining a scheduler with typical RTOS features such as mutexes, semaphores, memory pools, etc. The Mynewt Core OS also provides a number of useful utilities such as a task watchdog, networking stack memory buffers and time management API. Each of these features is described in detail in its own section of the manual.</p>
<p>A multitasking, preemptive operating system is one in which a number of different tasks can be instantiated and assigned a priority, with higher priority tasks running before lower priority tasks. Furthermore, if a lower priority task is running and a higher priority task wants to run, the lower priority task is halted and the higher priority task is allowed to run. In other words, the lower priority task is preempted by the higher priority task.</p>
<h3 id="why-use-an-os">Why use an OS?</h3>
<p>You may ask yourself "why do I need a multitasking preemptive OS"? The answer may indeed be that you do not. Some applications are simple and only require a polling loop. Others are more complex and may require that certain jobs are executed in a timely manner or before other jobs are executed. If you have a simple polling loop, you cannot move on to service a job until the current job is done being serviced. With the Mynewt OS, the application developer need not worry about certain jobs taking too long or not executing in a timely fashion; the OS provides mechanisms to deal with these situations. Another benefit of using an OS is that it helps shield application developers from other application code being written; the developer does not have to worry (or has to worry less) about other application code behaving badly and causing undesirable behavior or preventing their code from executing properly. Other benefits of using an OS (and the Mynewt OS in particular) is that it also provides features that the developer would otherwise need to create on his/her own. </p>
<h3 id="core-os-features">Core OS Features</h3>
<p><Insert basic feature descriptions, how the various pieces fit together etc., what's special in Mynewt OS></p>
<ul>
<li><a href="../context_switch/context_switch/">Scheduler/context switching</a></li>
<li><a href="../time/os_time/">Time</a></li>
<li><a href="../task/task/">Tasks</a></li>
<li><a href="../event_queue/event_queue/">Event queues/callouts</a></li>
<li><a href="../semaphore/semaphore/">Semaphores</a></li>
<li><a href="../mutex/mutex/">Mutexes</a></li>
<li><a href="../memory_pool/memory_pool/">Memory pools</a></li>
<li><a href="../heap/heap/">Heap</a></li>
<li><a href="../mbuf/mbuf/">Mbufs</a></li>
<li><a href="../sanity/sanity/">Sanity</a></li>
<li><a href="../callout/callout/">Callouts</a></li>
<li><a href="../porting/port_os/">Porting OS to other platforms</a></li>
</ul>
<h3 id="basic-os-application-creation">Basic OS Application Creation</h3>
<p>Creating an application using the Mynewt Core OS is a relatively simple task: once you have installed the basic Newt Tool structure (build structure) for your application and created your BSP (Board Support Package), the developer initializes the OS by calling <code>os_init()</code>, performs application specific initializations, and then starts the os by calling <code>os_start()</code>. </p>
<p>The <code>os_init()</code> API performs two basic functions: calls architecture and bsp specific setup and initializes the idle task of the OS. This is required before the OS is started. The OS start API initializes the OS time tick interrupt and starts the highest priority task running (i.e starts the scheduler). Note that <code>os_start()</code> never returns; once called the device is either running in an application task context or in idle task context.</p>
<p>Initializing application modules and tasks can get somewhat complicated with RTOS's similar to Mynewt. Care must be taken that the API provided by a task are initialized prior to being called by another (higher priority) task. </p>
<p>For example, take a simple application with two tasks (tasks 1 and 2, with task 1 higher priority than task 2). Task 2 provides an API which has a semaphore lock and this semaphore is initialized by task 2 when the task handler for task 2 is called. Task 1 is expected to call this API.</p>
<p>Consider the sequence of events when the OS is started. The scheduler starts running and picks the highest priority task (task 1 in this case). The task handler function for task 1 is called and will keep running until it yields execution. Before yielding, code in the task 1 handler function calls the API provided by task 2. The semaphore being accessed in the task 2 API has yet to be initialized since the task 2 handler function has not had a chance to run! This will lead to undesirable behavior and will need to be addressed by the application developer. Note that the Mynewt OS does guard against internal API being called before the OS has started (they will return error) but it does not safeguard application defined objects from access prior to initialization.</p>
<h3 id="example">Example</h3>
<p>One way to avoid initialization issues like the one described above is to perform task initializations prior to starting the OS. The code example shown below illustrates this concept. The application initializes the OS, calls an application specific "task initialization" function, and then starts the OS. The application task initialization function is responsible for initializing all the data objects that each task exposes to the other tasks. The tasks themselves are also initialized at this time (by calling <code>os_task_init()</code>). </p>
<p>In the example, each task works in a ping-pong like fashion: task 1 wakes up, adds a token to semaphore 1 and then waits for a token from semaphore 2. Task 2 waits for a token on semaphore 1 and once it gets it, adds a token to semaphore 2. Notice that the semaphores are initialized by the application specific task initialization functions and not inside the task handler functions. If task 2 (being lower in priority than task 1) had called os_sem_init() for task2_sem inside task2_handler(), task 1 would have called os_sem_pend() using task2_sem before task2_sem was initialized.</p>
<div class="codehilite" style="background: #ffffff"><pre style="line-height: 125%"><span></span>/* Task 1 handler function */
void
task1_handler(void *arg)
{
    while (1) {
        /* Release semaphore to task 2 */
        os_sem_release(&amp;amp;task1_sem);

        /* Wait for semaphore from task 2 */
        os_sem_pend(&amp;amp;task2_sem, OS_TIMEOUT_NEVER);
    }
}

/* Task 2 handler function */
void
task2_handler(void *arg)
{
    struct os_task *t;

    while (1) {
        /* Wait for semaphore from task1 */
        os_sem_pend(&amp;amp;task1_sem, OS_TIMEOUT_NEVER);

        /* Release task2 semaphore */
        os_sem_release(&amp;amp;task2_sem);
    }
}


/* Initialize task 1 exposed data objects */
void
task1_init(void)
{
    /* Initialize task1 semaphore */
    os_sem_init(&amp;amp;task1_sem, 0);
}

/* Initialize task 2 exposed data objects */
void
task2_init(void)
{
    /* Initialize task1 semaphore */
    os_sem_init(&amp;amp;task2_sem, 0);
}

/**
 * init_app_tasks
 *  
 * Called by main.c after os_init(). This function performs initializations 
 * that are required before tasks are running. 
 *  
 * @return int 0 success; error otherwise.
 */
static int
init_app_tasks(void)
{
    /*
     * Initialize tasks 1 and 2. Note that the task handlers are not called yet; they will
     * be called when the OS is started.
     */
    os_task_init(&amp;amp;task1, &quot;task1&quot;, task1_handler, NULL, TASK1_PRIO, 
                 OS_WAIT_FOREVER, task1_stack, TASK1_STACK_SIZE);

    os_task_init(&amp;amp;task2, &quot;task2&quot;, task2_handler, NULL, TASK2_PRIO, 
                 OS_WAIT_FOREVER, task2_stack, TASK2_STACK_SIZE);

    /* Call task specific initialization functions. */
    task1_init();
    task2_init();

    return 0;
}

/**
 * main
 *  
 * The main function for the application. This function initializes the os, calls 
 * the application specific task initialization function. then starts the 
 * OS. We should not return from os start! 
 */
int
main(void)
{
    int i;
    int rc;
    uint32_t seed;

    /* Initialize OS */
    os_init();

    /* Initialize application specific tasks */
    init_app_tasks();

    /* Start the OS */
    os_start();

    /* os start should never return. If it does, this should be an error */
    assert(0);

    return rc;
}
</pre></div>


<h3 id="os-functions">OS Functions</h3>
<p>The functions available at the OS level are:</p>
<ul>
<li><a href="../os_init/">os_init</a></li>
<li><a href="../os_start/">os_start</a></li>
<li><a href="../os_started/">os_started</a></li>
</ul></div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Apache Mynewt (incubating) is available under Apache License, version 2.0.</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js" defer></script>
        <script src="../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
