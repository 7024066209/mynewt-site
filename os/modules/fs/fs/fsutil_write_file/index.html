<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="http://mynewt.apache.org/os/modules/fs/fs/fsutil_write_file/">
        <link rel="shortcut icon" href="../../../../../img/favicon.ico">

	<title>fsutil_write_file - Apache Mynewt</title>

        <link href="../../../../../css/bootstrap-3.0.3.min.css" rel="stylesheet">
        <link href="../../../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../../../css/highlight.css">
        <link href="../../../../../css/base.css" rel="stylesheet">
        <link href="../../../../../css/custom.css" rel="stylesheet">
        <link href='https://fonts.googleapis.com/css?family=Roboto:400,500,700,900,300,100' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
        <link href="../../../../../extra.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
            <script>
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-72162311-1', 'mynewt.incubator.apache.org');
                ga('send', 'pageview');
            </script>
        
    </head>


    <body class="fsutil_write_file">


        <div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="logo-container">
        <img src="/img/logo.svg">
    </div>
    <div class="container-fluid">
        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li class="dropdown">
                    <a href="/documentation/" class="dropdown-toggle" data-toggle="dropdown">Docs <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        
                        
                        
                        
                        <li >
                            <a href="../../../../../documentation/">
                                Overview
                            </a>
                        </li>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <li class="active">
                            <a href="../../../../get_started/introduction/">
                                Mynewt OS Manual
                            </a>
                        </li>
                        
                        
                        
                        <li >
                            <a href="../../../../../newt/newt_intro/">
                                Newt Tool Manual
                            </a>
                        </li>
                        
                        
                        
                        <li >
                            <a href="../../../../../newtmgr/overview/">
                                Newt Manager Manual
                            </a>
                        </li>
                        
                        
                        
                        <li >
                            <a href="../../../../../faq/answers/">
                                Appendix
                            </a>
                        </li>
                        
                        
                    </ul>
                </li>
                <li>
                    <a href="/download/">Download</a>
                </li>
                <li>
                    <a href="/community/">Community</a>
                </li>
                <li>
                    <a href="/events/">Events</a>
                </li>
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
            </ul>
        </div>
    </div>
</div>

        

        <div class="container-fluid">
            
                <div class="row sm-extra-padding">
                    <div id="docSidebar" class="col-md-3 bg-grey sidebar-container"><div class="bs-sidebar hidden-print" role="complementary">
    <div class="sidebar-top">
        <img class="hidden-xs hidden-sm logo-small" src="/img/logo.svg" alt="MyNewt" title="MyNewt">
        <div class="small" role="search">
            <form id ="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
                <div class="form-group">
                    <input type="text" name="q" placeholder="Search documentation" />
                    <button class="search-button" type="submit"><i class="fa fa-search"></i></button>
                </div>
            </form>
        </div>
    </div>
    <ul class="nav bs-sidenav">
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
  
  
    <li><a href="
  ../../../../get_started/introduction/
">Mynewt OS Manual</a>
  
    
      <ul class="current-toc">
          
              
                
  
    <li>
      <a href="../../../../get_started/introduction/">Introduction</a>
    </li>
  

              
          
              
                
  
  
    <li ><a href="../../../../get_started/get_started/">Quick Start</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../../get_started/vocabulary/">Concepts</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../../tutorials/tutorials/">Tutorials</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../../os_user_guide/">OS User Guide</a></li>
  
    
      <ul class="current-toc">
          
              
          
              
                
  
  
    <li ><a href="../../../../core_os/mynewt_os/">OS Core</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../../core_os/porting/port_os/">Porting to your Platform</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../console/console/">Console</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../shell/shell/">Shell</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../bootloader/bootloader/">Bootloader</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li><a href="
  
  
  ../fs/

">File System</a>
  
    
      <ul class="current-toc">
          
              
                
  
  
    <li ><a href="../fs/">File System Abstraction</a></li>
  
    
      <ul class="current-toc">
          
              
          
              
                
  
    <li>
      <a href="../fs_return_codes/">Return Codes</a>
    </li>
  

              
          
              
                
  
  
    <li><a href="
  ../fs_ops/
">Data Structures</a>
  
    
  </li>

              
          
              
                
  
  
    <li><a href="
  ../fs_close/
">Functions</a>
  
    
      <ul class="current-toc">
          
              
                
  
    <li>
      <a href="../fs_close/">fs_close</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../fs_closedir/">fs_closedir</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../fs_dirent_is_dir/">fs_dirent_is_dir</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../fs_dirent_name/">fs_dirent_name</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../fs_filelen/">fs_filelen</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../fs_getpos/">fs_getpos</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../fs_mkdir/">fs_mkdir</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../fs_open/">fs_open</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../fs_opendir/">fs_opendir</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../fs_read/">fs_read</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../fs_readdir/">fs_readdir</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../fs_register/">fs_register</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../fs_rename/">fs_rename</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../fs_seek/">fs_seek</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../fs_unlink/">fs_unlink</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../fs_write/">fs_write</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../fsutil_read_file/">fsutil_read_file</a>
    </li>
  

              
          
              
                
  
    <li class="active">
      fsutil_write_file
    </li>
  

              
          
      </ul>
    
  </li>

              
          
      </ul>
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../nffs/nffs/">Newtron Flash File System</a></li>
  
    
  </li>

              
          
              
                
  
    <li>
      <a href="../../otherfs/">Other File Systems</a>
    </li>
  

              
          
      </ul>
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../hal/hal/">Hardware Abstraction Layer</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../testutil/testutil/">Test Utilities</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../imgmgr/imgmgr/">Image Manager</a></li>
  
    
  </li>

              
          
              
                
  
    <li>
      <a href="../../../baselibc/">Baselibc library</a>
    </li>
  

              
          
              
                
  
  
    <li ><a href="../../../elua/elua/">Embedded Lua</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../json/json/">JSON</a></li>
  
    
  </li>

              
          
      </ul>
    
  </li>

              
          
              
                
  
  
    <li><a href="
  
  
  ../../../../../network/ble/ble_intro/

">Networking User Guide</a>
  
    
  </li>

              
          
      </ul>
    
  </li>

        
      
        
          
  
  
    <li><a href="
  ../../../../../newt/newt_intro/
">Newt Tool Manual</a>
  
    
  </li>

        
      
        
          
  
  
    <li><a href="
  ../../../../../newtmgr/overview/
">Newt Manager Manual</a>
  
    
  </li>

        
      
        
          
  
  
    <li><a href="
  ../../../../../faq/answers/
">Appendix</a>
  
    
  </li>

        
      
    </ul>
</div></div>

                    <div class="show-sidebar-container">
                        <button class="show-sidebar">Docs Menu</button>
                    </div>

                    <div class="col-md-offset-3 col-md-9 documentation-viewer" role="main">
                        <div class="row doc-header">
                            <div class="col-sm-6">
                                
<ul class="nav nav-pills">
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <li class="active" role="presentation"><a href="../../../../get_started/introduction/">Mynewt OS</a></li>
    
    
    
    <li  role="presentation"><a href="../../../../../newt/newt_intro/">Newt Tool</a></li>
    
    
    
    <li  role="presentation"><a href="../../../../../newtmgr/overview/">Newt Mgr</a></li>
    
    
    
    
</ul>
                            </div>
                            <div class="col-sm-6">
                                <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="/documentation/">Docs</a></li>
    
    
        
          <li>&raquo; <a href="../fs/">File System Abstraction</a></li>
        
      
        
          <li>&raquo; <a href="../fs_close/">Functions</a></li>
        
      
      
        <li>&raquo; fsutil_write_file</li>
      
    
    
  </ul>
</div>
                            </div>
                        </div>
                        
                            <h2 id="fsutil95write95file"><font color="#F2853F" style="font-size:24pt">fsutil_write_file</font><a class="headerlink" href="#fsutil95write95file" title="Permanent link">&para;</a></h2>
<div class="codehilite" style="background: #ffffff"><pre style="line-height: 125%">int fsutil_write_file(const char *path, const void *data, uint32_t len)
</pre></div>


<p>Calls fs_open(), fs_write(), and fs_close() to open a file at the specified path, write the supplied data to the current offset of the specified file handle, and close the file and invalidate the file handle.  If the specified file already exists, it is truncated and overwritten with the specified data.</p>
<h4 id="arguments">Arguments<a class="headerlink" href="#arguments" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Arguments</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>path</td>
<td>Pointer to the file to write to</td>
</tr>
<tr>
<td>data</td>
<td>The data to write</td>
</tr>
<tr>
<td>len</td>
<td>The number of bytes to write</td>
</tr>
</tbody>
</table>
<h4 id="returned-values">Returned values<a class="headerlink" href="#returned-values" title="Permanent link">&para;</a></h4>
<ul>
<li>0 on success</li>
<li><a href="../fs_return_codes/">FS error code</a> on failure</li>
</ul>
<h4 id="header-file">Header file<a class="headerlink" href="#header-file" title="Permanent link">&para;</a></h4>
<div class="codehilite" style="background: #ffffff"><pre style="line-height: 125%">#include &quot;fs/fs.h&quot;
</pre></div>


<h4 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h4>
<p>This example creates a 4-byte file.</p>
<div class="codehilite" style="background: #ffffff"><pre style="line-height: 125%">int
write_id(void)
{
    int rc;

    /* Create the parent directory. */
    rc = fs_mkdir(&quot;/cfg&quot;);
    if (rc != 0 &amp;&amp; rc != FS_EALREADY) {
        return -1;
    }

    /* Create a file and write four bytes to it. */
    rc = fsutil_write_file(&quot;/cfg/id.txt&quot;, &quot;1234&quot;, 4);
    if (rc != 0) {
        return -1;
    }

    return 0;
}
</pre></div>
                        
                        <div class="row">
                            <footer>
    <div class="row">
        <div class="col-md-12">
            
                <p class="copyright">Copyright &copy; 2015 The Apache Software Foundation, Licensed under the Apache License, Version 2.0 Apache and the Apache feather logo are trademarks of The Apache Software Foundation.<br>The Apache Software Foundation Apache Incubator</p>
            
        </div>
    </div>
    <div class="copyright-logos">
        <div class="row">
            <div class="col-xs-6 text-right">
                <img src="/img/apache-feather.png" alt="Apache" title="Apache">
            </div>
            <div class="col-xs-6 text-left">
                <img src="/img/apache-logo.png" alt="Apache Incubator" title="Apache Incubator">
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <small class="footnote">
                MyNewt is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.
            </small>
        </div>
    </div>
</footer>
                        </div>
                    </div>
                </div>
            
            
        </div>

        <script src="../../../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../../../js/highlight.pack.js"></script>
        <script src="../../../../../js/base.js"></script>
        <script src="../../../../../js/custom.js"></script>

    </body>
</html>