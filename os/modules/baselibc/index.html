<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="http://mynewt.incubator.apache.org/os/modules/baselibc/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">

	<title>Baselibc library - Apache Mynewt</title>

        <link href="../../../css/bootstrap-3.0.3.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <link href="../../../css/base.css" rel="stylesheet">
        <link href="../../../css/custom.css" rel="stylesheet">
        <link href='https://fonts.googleapis.com/css?family=Roboto:400,500,700,900,300,100' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
        <link href="../../../extra.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
            <script>
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-72162311-1', 'mynewt.incubator.apache.org');
                ga('send', 'pageview');
            </script>
        
    </head>


    <body class="Baselibc library">


        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="logo-container">
        <img src="/img/logo.svg">
    </div>
    <div class="container-fluid">
        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/documentation/">Docs</a>
                </li>
                <li>
                    <a href="/download/">Download</a>
                </li>
                <li>
                    <a href="/community/">Community</a>
                </li>
                <li>
                    <a href="/events/">Events</a>
                </li>
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
            </ul>
        </div>
    </div>
</div>

        <div class="container-fluid">
            
                <div class="row sm-extra-padding">
                    <div class="col-md-3 bg-grey sidebar-container"><div class="bs-sidebar hidden-print" role="complementary">
    <div class="sidebar-top">
        <img class="hidden-xs hidden-sm logo-small" src="/img/logo.svg" alt="MyNewt" title="MyNewt">
        <div class="small" role="search">
            <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
                <div class="form-group">
                    <input type="text" name="q" placeholder="Search documentation" />
                    <button class="search-button" type="submit"><i class="fa fa-search"></i></button>
                </div>
            </form>
        </div>
    </div>
    <ul class="nav bs-sidenav">
      
        
      
        
      
        
      
        
      
        
      
        
          
  
  <li><a href="
  ../../get_started/introduction/
">Apache Mynewt Manual</a>
    
      <ul class="current-toc">
          
              
  
    <li>
      <a href="../../get_started/introduction/">Introduction</a>
    </li>
  

          
              
  
  <li><a href="
  ../../get_started/project1/
">Get Started</a>
    
  </li>

          
              
  
  <li><a href="
  ../../get_acclimated/project2/
">Tutorials</a>
    
  </li>

          
              
  
  <li><a href="
  
  
  
  
  ../../core_os/mynewt_os/


">Manual</a>
    
      <ul class="current-toc">
          
              
  
  <li><a href="
  
  
  ../../core_os/mynewt_os/

">OS Core</a>
    
  </li>

          
              
  
  <li><a href="
  ../console/console/
">Console</a>
    
  </li>

          
              
  
  <li><a href="
  ../shell/shell/
">Shell</a>
    
  </li>

          
              
  
  <li><a href="
  ../bootloader/bootloader/
">Bootloader</a>
    
  </li>

          
              
  
    <li>
      <a href="../filesystem/">File System Abstraction</a>
    </li>
  

          
              
  
    <li>
      <a href="../nffs/">Newtron Flash File System</a>
    </li>
  

          
              
  
  <li><a href="
  ../testutil/testutil/
">Test Utilities</a>
    
  </li>

          
              
  
  <li><a href="
  ../imgmgr/imgmgr/
">Image Manager</a>
    
  </li>

          
              
  
    <li class="active">
      Baselibc library
    </li>
  

          
              
  
    <li>
      <a href="../elua/">Embedded Lua</a>
    </li>
  

          
              
  
  <li><a href="
  ../json/json/
">JSON</a>
    
  </li>

          
      </ul>
    
  </li>

          
      </ul>
    
  </li>

        
      
        
          
  
  <li><a href="
  
  
  ../../../newt/newt_ops/

">Manual for Newt Tool</a>
    
  </li>

        
      
        
          
  
  <li><a href="
  ../../../newtmgr/overview/
">Manual for Newt Manager</a>
    
  </li>

        
      
    </ul>
</div></div>
                    
                    <div class="show-sidebar-container">
                        <button class="show-sidebar">Docs Menu</button>
                    </div>
                    
                    <div class="col-md-9 documentation-viewer" role="main">
                        <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../..">Docs</a> &raquo;</li>
    
      
        
          <li>Apache Mynewt Manual &raquo;</li>
        
      
        
          <li>Manual &raquo;</li>
        
      
    
    <li>Baselibc library</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
                        
                            <h1 id="baselibc">Baselibc<a class="headerlink" href="#baselibc" title="Permanent link">&para;</a></h1>
<p>baselibc is a very simple libc for embedded systems geared primarily for 32-bit microcontrollers in the 10-100kB memory range. The library of basic system calls and facilities compiles to less than 5kB total on Cortex-M3, and much less if some functions aren't used.</p>
<p>The code is based on klibc and tinyprintf modules, and licensed under the BSD license.</p>
<h2 id="description">Description<a class="headerlink" href="#description" title="Permanent link">&para;</a></h2>
<p>Mynewt Os comes bundled with libc (the standard C library). However, you may choose to replace libc functions with baselibc ones for a reduced image size.</p>
<h2 id="how-to-switch-to-baselibc">How to switch to baselibc<a class="headerlink" href="#how-to-switch-to-baselibc" title="Permanent link">&para;</a></h2>
<p>In order to switch from using libc to using baselibc you have to add the baselibc egg as dependency in the project egg. Specifying this dependency ensures that the linker first looks for the functions in baselibc before falling back to libc while creating the executable. For example, project <code>boot</code> uses baselibc. Its project description file <code>boot.yml</code> looks like the following:</p>
<pre><code class="no-highlight">   project.name: boot
   project.identities: bootloader
   project.eggs:
       - libs/os
       - libs/bootutil
       - libs/nffs
       - libs/console/stub
       - libs/util
       - libs/baselibc
 ```

## List of Functions

The functions available in this OS feature are listed below. Documentation is available in the form of  on-line manual pages or at [https://www.freebsd.org/cgi/man.cgi](#https://www.freebsd.org/cgi/man.cgi).  `mynewt.c` adds two new functions listed in the Function reference section.

* asprintf.c    
* atoi.c    
* atol.c
* atoll.c   
* bsearch.c 
* bzero.c   
* calloc.c  
* fgets.c    
* inline.c  
* jrand48.c 
* lrand48.c 
* malloc.c  
* malloc.h  
* memccpy.c 
* memchr.c  
* memcmp.c  
* memcpy.c  
* memfile.c 
* memmem.c  
* memmove.c 
* memrchr.c 
* memset.c  
* memswap.c 
* mrand48.c 
* mynewt.c  
* nrand48.c 
* qsort.c   
* realloc.c 
* sprintf.c 
* srand48.c 
* sscanf.c  
* strcasecmp.c  
* strcat.c  
* strchr.c  
* strcmp.c  
* strcpy.c  
* strcspn.c 
* strdup.c  
* strlcat.c 
* strlcpy.c 
* strlen.c  
* strncasecmp.c 
* strncat.c 
* strncmp.c 
* strncpy.c 
* strndup.c 
* strnlen.c 
* strntoimax.c  
* strntoumax.c  
* strpbrk.c 
* strrchr.c 
* strsep.c  
* strspn.c  
* strstr.c  
* strtoimax.c   
* strtok.c  
* strtok_r.c    
* strtol.c  
* strtoll.c 
* strtoul.c 
* strtoull.c    
* strtoumax.c   
* templates 
* test  
* tinyprintf.c  
* vasprintf.c   
* vprintf.c 
* vsprintf.c    
* vsscanf.c 

## Function Reference

------------------

## &lt;font color=&quot;F2853F&quot; style=&quot;font-size:24pt&quot;&gt; stdin_read &lt;/font&gt;

```no-highlight
    static size_t
    stdin_read(FILE *fp, char *bp, size_t n)
</code></pre>

<p>Read from a file.</p>
<h4 id="arguments">Arguments<a class="headerlink" href="#arguments" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Arguments</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>fp</td>
<td>pointer to the input file</td>
</tr>
<tr>
<td>bp</td>
<td>pointer to the string to be read</td>
</tr>
<tr>
<td>n</td>
<td>size of buffer (number of characters) to be read</td>
</tr>
</tbody>
</table>
<h4 id="returned-values">Returned values<a class="headerlink" href="#returned-values" title="Permanent link">&para;</a></h4>
<p>N/A</p>
<h4 id="notes">Notes<a class="headerlink" href="#notes" title="Permanent link">&para;</a></h4>
<p>N/A</p>
<h4 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h4>
<p><Add text to set up the context for the example here></p>
<pre><code class="no-highlight">&lt;Insert the code snippet here&gt;
</code></pre>

<hr />
<h2 id="stdout_write"><font color="#F2853F" style="font-size:24pt"> stdout_write </font><a class="headerlink" href="#stdout_write" title="Permanent link">&para;</a></h2>
<pre><code class="no-highlight">   static size_t
   stdout_write(FILE *fp, const char *bp, size_t n)
</code></pre>

<p>Write to a file or console. </p>
<h4 id="arguments_1">Arguments<a class="headerlink" href="#arguments_1" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Arguments</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>fp</td>
<td>pointer to the output file</td>
</tr>
<tr>
<td>bp</td>
<td>pointer to the string to be written</td>
</tr>
<tr>
<td>n</td>
<td>size of buffer (number of characters) to be output</td>
</tr>
</tbody>
</table>
<h4 id="returned-values_1">Returned values<a class="headerlink" href="#returned-values_1" title="Permanent link">&para;</a></h4>
<p>N/A</p>
<h4 id="notes_1">Notes<a class="headerlink" href="#notes_1" title="Permanent link">&para;</a></h4>
<p>N/A</p>
<h4 id="example_1">Example<a class="headerlink" href="#example_1" title="Permanent link">&para;</a></h4>
<p><Add text to set up the context for the example here></p>
<pre><code class="no-highlight">&lt;Insert the code snippet here&gt;
</code></pre>

<hr />
                        
                    </div>
                </div>
            
            <div class="row">    
                <footer>
    <div class="row">
        <div class="col-md-12">
            
                <p class="copyright">Copyright &copy; 2015 The Apache Software Foundation, Licensed under the Apache License, Version 2.0 Apache and the Apache feather logo are trademarks of The Apache Software Foundation.<br>The Apache Software Foundation Apache Incubator</p>
            
        </div>
    </div>
    <div class="copyright-logos">
        <div class="row">
            <div class="col-xs-6 text-right">
                <img src="/img/apache-feather.png" alt="Apache" title="Apache">
            </div>
            <div class="col-xs-6 text-left">
                <img src="/img/apache-logo.png" alt="Apache Incubator" title="Apache Incubator">
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <small class="footnote">
                MyNewt is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.
            </small>
        </div>
    </div>
</footer>
            </div>
        </div>

        <script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script src="../../../js/base.js"></script>
        <script src="../../../js/custom.js"></script>

    </body>
</html>