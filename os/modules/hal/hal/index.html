<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="http://mynewt.apache.org/os/modules/hal/hal/">
        <link rel="shortcut icon" href="../../../../img/favicon.ico">

	<title>Overview - Apache Mynewt</title>

        <link href="../../../../css/bootstrap-3.0.3.min.css" rel="stylesheet">
        <link href="../../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../../css/highlight.css">
        <link href="../../../../css/base.css" rel="stylesheet">
        <link href="../../../../css/custom.css" rel="stylesheet">
        <link href='https://fonts.googleapis.com/css?family=Roboto:400,500,700,900,300,100' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
        <link href="../../../../extra.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
            <script>
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-72162311-1', 'mynewt.incubator.apache.org');
                ga('send', 'pageview');
            </script>
        
    </head>


    <body class="Overview">


        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="logo-container">
        <img src="/img/logo.svg">
    </div>
    <div class="container-fluid">
        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li>
                    <a href="/documentation/">Docs</a>
                </li>
                <li>
                    <a href="/download/">Download</a>
                </li>
                <li>
                    <a href="/community/">Community</a>
                </li>
                <li>
                    <a href="/events/">Events</a>
                </li>
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
            </ul>
        </div>
    </div>
</div>

        <div class="container-fluid">
            
                <div class="row sm-extra-padding">
                    <div class="col-md-3 bg-grey sidebar-container"><div class="bs-sidebar hidden-print" role="complementary">
    <div class="sidebar-top">
        <img class="hidden-xs hidden-sm logo-small" src="/img/logo.svg" alt="MyNewt" title="MyNewt">
        <div class="small" role="search">
            <form id ="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
                <div class="form-group">
                    <input type="text" name="q" placeholder="Search documentation" />
                    <button class="search-button" type="submit"><i class="fa fa-search"></i></button>
                </div>
            </form>
        </div>
    </div>
    <ul class="nav bs-sidenav">
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
  
  <li><a href="
  ../../../get_started/introduction/
">Apache Mynewt Manual</a>
    
      <ul class="current-toc">
          
              
  
    <li>
      <a href="../../../get_started/introduction/">Introduction</a>
    </li>
  

          
              
  
  <li><a href="
  ../../../get_started/project1/
">Get Started</a>
    
  </li>

          
              
  
  <li><a href="
  ../../../tutorials/STM32F303/
">Tutorials</a>
    
  </li>

          
              
  
  <li><a href="
  
  
  
  
  ../../../core_os/mynewt_os/


">OS User Guide</a>
    
      <ul class="current-toc">
          
              
  
  <li><a href="
  
  
  ../../../core_os/mynewt_os/

">OS Core</a>
    
  </li>

          
              
  
  <li><a href="
  ../../../core_os/porting/port_os/
">Porting to your Platform</a>
    
  </li>

          
              
  
  <li><a href="
  ../../console/console/
">Console</a>
    
  </li>

          
              
  
  <li><a href="
  ../../shell/shell/
">Shell</a>
    
  </li>

          
              
  
  <li><a href="
  ../../bootloader/bootloader/
">Bootloader</a>
    
  </li>

          
              
  
  <li><a href="
  
  
  ../../fs/fs/fs/

">File System</a>
    
  </li>

          
              
  
  <li><a href="
  ./
">Hardware Abstraction Layer</a>
    
      <ul class="current-toc">
          
              
  
    <li class="active">
      Overview
    </li>
  

          
              
  
  <li><a href="
  ../hal_api/
">API</a>
    
  </li>

          
              
  
    <li>
      <a href="../hal_in_libraries/">Using</a>
    </li>
  

          
              
  
    <li>
      <a href="../hal_creation/">Creating</a>
    </li>
  

          
      </ul>
    
  </li>

          
              
  
  <li><a href="
  ../../testutil/testutil/
">Test Utilities</a>
    
  </li>

          
              
  
  <li><a href="
  ../../imgmgr/imgmgr/
">Image Manager</a>
    
  </li>

          
              
  
    <li>
      <a href="../../baselibc/">Baselibc library</a>
    </li>
  

          
              
  
  <li><a href="
  ../../elua/elua/
">Embedded Lua</a>
    
  </li>

          
              
  
  <li><a href="
  ../../json/json/
">JSON</a>
    
  </li>

          
      </ul>
    
  </li>

          
              
  
  <li><a href="
  
  
  ../../../../network/ble/ble_intro/

">Networking User Guide</a>
    
  </li>

          
      </ul>
    
  </li>

        
      
        
          
  
  <li><a href="
  ../../../../newt/newt_intro/
">Newt Tool Manual</a>
    
  </li>

        
      
        
          
  
  <li><a href="
  ../../../../newtmgr/overview/
">Newt Manager Manual</a>
    
  </li>

        
      
    </ul>
</div></div>
                    
                    <div class="show-sidebar-container">
                        <button class="show-sidebar">Docs Menu</button>
                    </div>
                    
                    <div class="col-md-9 documentation-viewer" role="main">
                        <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../..">Docs</a> &raquo;</li>
    
      
        
          <li>OS User Guide &raquo;</li>
        
      
        
          <li>Hardware Abstraction Layer &raquo;</li>
        
      
    
    <li>Overview</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
                        
                            <h1 id="hardware-abstraction-layer">Hardware Abstraction Layer<a class="headerlink" href="#hardware-abstraction-layer" title="Permanent link">&para;</a></h1>
<h2 id="description">Description<a class="headerlink" href="#description" title="Permanent link">&para;</a></h2>
<p>The Hardware Abstraction Layer (HAL) includes a set of APIs 
(Application Programmer Interface) to connect to 
the underlying hardware components including MCU components and peripheral
components.</p>
<p>The goal is to allow libraries, modules and applications written for Mynewt to 
be shared within the Mynewt community and used across the variety of supported
Mynewt platforms. A secondary goal is to provide a simple consistent API 
to commonly used MCU components and peripherals to make development easier.
Nothing in the HAL precludes the user of the underlying physical devices,
it only limits the portability of the end application.</p>
<h2 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h2>
<p>A Mynewt contributor might write a light-switch 
module (<code>libs/light</code>) that provides the functionality of an intelligent light 
switch.  This might involve using a timer, a General Purpose Output (GPO) 
to set the light to the on or off state, and flash memory to log the times the 
lights were turned on or off.  The contributor would like this module to 
work with as many different hardware platforms as possible, but can't 
possibly test across the complete set of hardware supported by Mynewt.</p>
<p><strong>Solution</strong>:  The contributor uses the HAL APIs to control the peripherals.
The Mynewt team ensures that the underlying HAL devices all work equivalently
through the HAL APIs. The contributors library is independent of the specifics
of the hardware.  </p>
<h2 id="dependency">Dependency<a class="headerlink" href="#dependency" title="Permanent link">&para;</a></h2>
<p>To include the HAL within your project,  simply add it to your package
dependencies as follows:</p>
<pre><code class="no-highlight">pkg.deps: 
    . . .
    hw/hal
</code></pre>

<h2 id="platform-support">Platform Support<a class="headerlink" href="#platform-support" title="Permanent link">&para;</a></h2>
<p>Not all platforms (MCU and BSP) support all HAL devices. Consult your MCU
or BSP documentation to find out if you have hardware support for the 
peripherals you are interested in using.  Once you verify support, then
consult the MCU implementation and see if the specific HAL interface you are
using is in the <code>mcu/xxx/src/hal_xxxx.c</code> implementation.  Finally, you 
can build your project and ensure that there are no unresolved hal_xxx 
externals.</p>
<h2 id="implementing-hal-interfaces">Implementing HAL Interfaces<a class="headerlink" href="#implementing-hal-interfaces" title="Permanent link">&para;</a></h2>
<p>It might be that a specific HAL interface is not supported on your MCU or
platform.  See the specific HAL documentation for that interface for tips
on implementing this for your MCU.</p>
                        
                    </div>
                </div>
            
            <div class="row">    
                <footer>
    <div class="row">
        <div class="col-md-12">
            
                <p class="copyright">Copyright &copy; 2015 The Apache Software Foundation, Licensed under the Apache License, Version 2.0 Apache and the Apache feather logo are trademarks of The Apache Software Foundation.<br>The Apache Software Foundation Apache Incubator</p>
            
        </div>
    </div>
    <div class="copyright-logos">
        <div class="row">
            <div class="col-xs-6 text-right">
                <img src="/img/apache-feather.png" alt="Apache" title="Apache">
            </div>
            <div class="col-xs-6 text-left">
                <img src="/img/apache-logo.png" alt="Apache Incubator" title="Apache Incubator">
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <small class="footnote">
                MyNewt is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.
            </small>
        </div>
    </div>
</footer>
            </div>
        </div>

        <script src="../../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../../js/highlight.pack.js"></script>
        <script src="../../../../js/base.js"></script>
        <script src="../../../../js/custom.js"></script>

    </body>
</html>