<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="http://mynewt.apache.org/os/modules/hal/hal_adc/hal_adc/">
        <link rel="shortcut icon" href="../../../../../img/favicon.ico">

	<title>ADC - Apache Mynewt</title>

        <link href="../../../../../css/bootstrap-3.0.3.min.css" rel="stylesheet">
        <link href="../../../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../../../css/highlight.css">
        <link href="../../../../../css/base.css" rel="stylesheet">
        <link href="../../../../../css/custom.css" rel="stylesheet">
        <link href='https://fonts.googleapis.com/css?family=Roboto:400,500,700,900,300,100' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
        <link href="../../../../../extra.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
            <script>
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-72162311-1', 'auto');
                ga('send', 'pageview');
            </script>
        
    </head>


    <body class="ADC">


        <div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="logo-container">
        <img src="/img/logo.svg">
    </div>
    <div class="container-fluid">
        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li class="dropdown">
                    <a href="/documentation/" class="dropdown-toggle" data-toggle="dropdown">Docs <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        
                        
                        
                        
                        <li >
                            <a href="../../../../../documentation/">
                                Overview
                            </a>
                        </li>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <li class="active">
                            <a href="../../../../get_started/introduction/">
                                Mynewt OS Manual
                            </a>
                        </li>
                        
                        
                        
                        <li >
                            <a href="../../../../../newt/newt_intro/">
                                Newt Tool Manual
                            </a>
                        </li>
                        
                        
                        
                        <li >
                            <a href="../../../../../newtmgr/overview/">
                                Newt Manager Manual
                            </a>
                        </li>
                        
                        
                        
                        <li >
                            <a href="../../../../tutorials/how_to_edit_docs/">
                                Appendix
                            </a>
                        </li>
                        
                        
                    </ul>
                </li>
                <li>
                    <a href="/download/">Download</a>
                </li>
                <li>
                    <a href="/community/">Community</a>
                </li>
                <li>
                    <a href="/events/">Events</a>
                </li>
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
            </ul>
        </div>
    </div>
</div>

        

        <div class="container-fluid">
            
                <div class="row sm-extra-padding">
                    <div id="docSidebar" class="col-md-3 bg-grey sidebar-container"><div class="bs-sidebar hidden-print" role="complementary">
    <div class="sidebar-top">
        <img class="hidden-xs hidden-sm logo-small" src="/img/logo.svg" alt="MyNewt" title="MyNewt">
        <div class="small" role="search">
            <form id ="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
                <div class="form-group">
                    <input type="text" name="q" placeholder="Search documentation" />
                    <button class="search-button" type="submit"><i class="fa fa-search"></i></button>
                </div>
            </form>
        </div>
    </div>
    <ul class="nav bs-sidenav">
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
  
  
    <li><a href="
  ../../../../get_started/introduction/
">Mynewt OS Manual</a>
  
    
      <ul class="current-toc">
          
              
                
  
    <li>
      <a href="../../../../get_started/introduction/">Introduction</a>
    </li>
  

              
          
              
                
  
  
    <li ><a href="../../../../get_started/get_started/">Quick Start</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../../get_started/vocabulary/">Concepts</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../../tutorials/tutorials/">Tutorials</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../../os_user_guide/">OS User Guide</a></li>
  
    
      <ul class="current-toc">
          
              
          
              
                
  
  
    <li ><a href="../../../../core_os/mynewt_os/">OS Core</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../../core_os/porting/port_os/">Porting to your Platform</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../console/console/">Console</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../shell/shell/">Shell</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../bootloader/bootloader/">Bootloader</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li><a href="
  
  
  ../../../fs/fs/fs/

">File System</a>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../hal/">Hardware Abstraction Layer</a></li>
  
    
      <ul class="current-toc">
          
              
          
              
                
  
    <li>
      <a href="../../hal_architecture/">Architecture</a>
    </li>
  

              
          
              
                
  
  
    <li><a href="
  ../../hal_api/
">API</a>
  
    
      <ul class="current-toc">
          
              
                
  
    <li>
      <a href="../../hal_api/">Summary</a>
    </li>
  

              
          
              
                
  
    <li class="active">
      ADC
    </li>
  

              
          
              
                
  
    <li>
      <a href="../../hal_cputime/hal_cpu_timer/">CPU timer</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../../hal_dac/hal_dac/">DAC</a>
    </li>
  

              
          
              
                
  
  
    <li><a href="
  ../../hal_flash/hal_flash/
">Flash memory</a>
  
    
  </li>

              
          
              
                
  
    <li>
      <a href="../../hal_gpio/hal_gpio/">GPIO</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../../hal_i2c/hal_i2c/">I2C</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../../hal_pwm/hal_pwm/">PWM</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../../hal_spi/hal_spi/">SPI</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../../hal_system/hal_sys/">System</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../../hal_uart/hal_uart/">UART</a>
    </li>
  

              
          
      </ul>
    
  </li>

              
          
              
                
  
    <li>
      <a href="../../hal_in_libraries/">Using HAL</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../../hal_creation/">Creating HAL</a>
    </li>
  

              
          
      </ul>
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../testutil/testutil/">Test Utilities</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../imgmgr/imgmgr/">Image Manager</a></li>
  
    
  </li>

              
          
              
                
  
    <li>
      <a href="../../../baselibc/">Baselibc library</a>
    </li>
  

              
          
              
                
  
  
    <li ><a href="../../../elua/elua/">Embedded Lua</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../json/json/">JSON</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../stats/stats/">Stats</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../../logs/logs/">Logs</a></li>
  
    
  </li>

              
          
      </ul>
    
  </li>

              
          
              
                
  
  
    <li><a href="
  ../../../../../network/ble/ble_intro/
">BLE User Guide</a>
  
    
  </li>

              
          
      </ul>
    
  </li>

        
      
        
          
  
  
    <li><a href="
  ../../../../../newt/newt_intro/
">Newt Tool Manual</a>
  
    
  </li>

        
      
        
          
  
  
    <li><a href="
  ../../../../../newtmgr/overview/
">Newt Manager Manual</a>
  
    
  </li>

        
      
        
          
  
  
    <li><a href="
  ../../../../tutorials/how_to_edit_docs/
">Appendix</a>
  
    
  </li>

        
      
    </ul>
</div></div>

                    <div class="show-sidebar-container">
                        <button class="show-sidebar">Docs Menu</button>
                    </div>

                    <div class="col-md-offset-3 col-md-9 documentation-viewer" role="main">
                        <div class="row doc-header">
                            <div class="col-sm-6">
                                
<ul class="nav nav-pills">
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <li class="active" role="presentation"><a href="../../../../get_started/introduction/">Mynewt OS</a></li>
    
    
    
    <li  role="presentation"><a href="../../../../../newt/newt_intro/">Newt Tool</a></li>
    
    
    
    <li  role="presentation"><a href="../../../../../newtmgr/overview/">Newt Mgr</a></li>
    
    
    
    
</ul>
                            </div>
                            <div class="col-sm-6">
                                <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="/documentation/">Docs</a></li>
    
    
        
          <li>&raquo; <a href="../../hal/">Hardware Abstraction Layer</a></li>
        
      
        
          <li>&raquo; <a href="../../hal_api/">API</a></li>
        
      
      
        <li>&raquo; ADC</li>
      
    
    
  </ul>
</div>
                            </div>
                        </div>
                        
                            <h1 id="hal_adc">hal_adc<a class="headerlink" href="#hal_adc" title="Permanent link">&para;</a></h1>
<p>The hardware independent interface to Analog To Digital Controllers</p>
<h3 id="description">Description<a class="headerlink" href="#description" title="Permanent link">&para;</a></h3>
<p>Analog to Digital converters (ADCs) read analog values (voltage) and convert
them to digital values to be used in your applications.  For a description
of ADC, see <a href="https://en.wikipedia.org/wiki/Analog-to-digital_converter">wikipedia</a></p>
<h3 id="definition">Definition<a class="headerlink" href="#definition" title="Permanent link">&para;</a></h3>
<p><a href="https://github.com/apache/incubator-mynewt-larva/blob/master/hw/hal/include/hal/hal_adc.h">hal_adc.h</a></p>
<h3 id="hal_adcs-theory-of-operation">HAL_ADCs Theory Of Operation<a class="headerlink" href="#hal_adcs-theory-of-operation" title="Permanent link">&para;</a></h3>
<p>ADCs have different conversion rates, resolution (bits) and reference voltages.</p>
<p>The HAL_ADC has APIs to allow the application or library to query the capabilities
of a specific ADC.</p>
<table>
<thead>
<tr>
<th><strong>Method Name</strong></th>
<th><strong> Description </strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>hal_adc_get_bits</td>
<td>gets the resolution of the ADC in bits.  For example if the ADC is 10 bits, a read will return a value from 0 through 2^10 - 1 = 1023.</td>
</tr>
<tr>
<td>hal_adc_get_ref_mv</td>
<td>gets the underlying reference voltage for the ADC in millivolts.  For example, if the ADC is 10 bits and the reference voltage is 5000 mV a ADC reading of 1023 corresponds to 5V; a ADC reading of 0 corresponds to 0 volts.</td>
</tr>
</tbody>
</table>
<p>Given this information, the application or library could convert any reading
to millivolts.  Since this is a common operation, the HAL_ADC API has a helper
function to perform this function: <code>hal_adc_to_mv()</code>.</p>
<p>The current HAL_ADC API provides a blocking read command to initiate an ADC
conversion, and return the result of that conversion.  Conversion time is
hardware dependent, but this is not an instantaneous operation.  Libraries
can use the <a href="../../hal_cputime/hal_cpu_timer/">hal_cputime</a> APIs to 
time conversions if that is relevant to the application.</p>
<p>Future HAL_ADC APIs will include periodic ADC conversion, non-blocking ADC
conversion and direct-to-memory DMA conversion. </p>
                        
                        <div class="row">
                            



<ul class="nav nav-pills" style="margin-bottom: 10px">
    <li>
    
    <a href=../../hal_api/>
        <span class="fa fa-arrow-left"></span>
        Previous: Summary
    </a>
    
    </li>
    <li class="pull-right">
    
    <a href=../../hal_cputime/hal_cpu_timer/>
        Next: CPU timer
        <span class="fa fa-arrow-right"></span>
    </a>
    
    </li>
</ul>
                        </div>
                        <div class="row">
                            <footer>
    <div class="row">
        <div class="col-md-12">
            
                <p class="copyright">Copyright &copy; 2015 The Apache Software Foundation, Licensed under the Apache License, Version 2.0 Apache and the Apache feather logo are trademarks of The Apache Software Foundation.<br>The Apache Software Foundation Apache Incubator</p>
            
        </div>
    </div>
    <div class="copyright-logos">
        <div class="row">
            <div class="col-xs-6 text-right">
                <img src="/img/apache-feather.png" alt="Apache" title="Apache">
            </div>
            <div class="col-xs-6 text-left">
                <img src="/img/apache-logo.png" alt="Apache Incubator" title="Apache Incubator">
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <small class="footnote">
                MyNewt is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.
            </small>
        </div>
    </div>
</footer>
                        </div>
                    </div>
                </div>
            
            
        </div>

        <script src="../../../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../../../js/highlight.pack.js"></script>
        <script src="../../../../../js/base.js"></script>
        <script src="../../../../../js/custom.js"></script>

    </body>
</html>