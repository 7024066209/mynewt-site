<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="http://mynewt.apache.org/os/tutorials/STM32F303/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">

	<title>Blinky on STM32F303 - Apache Mynewt</title>

        <link href="../../../css/bootstrap-3.0.3.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <link href="../../../css/base.css" rel="stylesheet">
        <link href="../../../css/custom.css" rel="stylesheet">
        <link href='https://fonts.googleapis.com/css?family=Roboto:400,500,700,900,300,100' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
        <link href="../../../extra.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
            <script>
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-72162311-1', 'mynewt.incubator.apache.org');
                ga('send', 'pageview');
            </script>
        
    </head>


    <body class="Blinky on STM32F303">


        <div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="logo-container">
        <img src="/img/logo.svg">
    </div>
    <div class="container-fluid">
        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about/">About</a>
                </li>
                <li class="dropdown">
                    <a href="/documentation/" class="dropdown-toggle" data-toggle="dropdown">Docs <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        
                        
                        
                        
                        <li >
                            <a href="../../../documentation/">
                                Overview
                            </a>
                        </li>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <li class="active">
                            <a href="../../get_started/introduction/">
                                Mynewt OS Manual
                            </a>
                        </li>
                        
                        
                        
                        <li >
                            <a href="../../../newt/newt_intro/">
                                Newt Tool Manual
                            </a>
                        </li>
                        
                        
                        
                        <li >
                            <a href="../../../newtmgr/overview/">
                                Newt Manager Manual
                            </a>
                        </li>
                        
                        
                        
                        <li >
                            <a href="../../../faq/answers/">
                                Appendix
                            </a>
                        </li>
                        
                        
                    </ul>
                </li>
                <li>
                    <a href="/download/">Download</a>
                </li>
                <li>
                    <a href="/community/">Community</a>
                </li>
                <li>
                    <a href="/events/">Events</a>
                </li>
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
            </ul>
        </div>
    </div>
</div>

        

        <div class="container-fluid">
            
                <div class="row sm-extra-padding">
                    <div id="docSidebar" class="col-md-3 bg-grey sidebar-container"><div class="bs-sidebar hidden-print" role="complementary">
    <div class="sidebar-top">
        <img class="hidden-xs hidden-sm logo-small" src="/img/logo.svg" alt="MyNewt" title="MyNewt">
        <div class="small" role="search">
            <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
                <div class="form-group">
                    <input type="text" name="q" placeholder="Search documentation" />
                    <button class="search-button" type="submit"><i class="fa fa-search"></i></button>
                </div>
            </form>
        </div>
    </div>
    <ul class="nav bs-sidenav">
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
  
  
    <li><a href="
  ../../get_started/introduction/
">Mynewt OS Manual</a>
  
    
      <ul class="current-toc">
          
              
                
  
    <li>
      <a href="../../get_started/introduction/">Introduction</a>
    </li>
  

              
          
              
                
  
  
    <li><a href="
  ../../get_started/native_tools/
">Get Started</a>
  
    
  </li>

              
          
              
                
  
  
    <li ><a href="../../get_started/vocabulary/">Concepts</a></li>
  
    
  </li>

              
          
              
                
  
  
    <li><a href="
  ../olimex/
">Tutorials</a>
  
    
      <ul class="current-toc">
          
              
                
  
    <li>
      <a href="../olimex/">Blinky on Olimex</a>
    </li>
  

              
          
              
                
  
    <li class="active">
      Blinky on STM32F303
    </li>
  

              
          
              
                
  
    <li>
      <a href="../nRF52/">Blinky on nRF52</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../arduino_zero/">Blinky on Arduino Zero</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../unit_test/">Unit Testing a Package</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../air_quality_sensor/">Adding an air-quality sensor</a>
    </li>
  

              
          
              
                
  
    <li>
      <a href="../how_to_edit_docs/">Edit Docs</a>
    </li>
  

              
          
      </ul>
    
  </li>

              
          
              
                
  
  
    <li><a href="
  
  
  ../../core_os/mynewt_os/

">OS User Guide</a>
  
    
  </li>

              
          
              
                
  
  
    <li><a href="
  
  
  ../../../network/ble/ble_intro/

">Networking User Guide</a>
  
    
  </li>

              
          
      </ul>
    
  </li>

        
      
        
          
  
  
    <li><a href="
  ../../../newt/newt_intro/
">Newt Tool Manual</a>
  
    
  </li>

        
      
        
          
  
  
    <li><a href="
  ../../../newtmgr/overview/
">Newt Manager Manual</a>
  
    
  </li>

        
      
        
          
  
  
    <li><a href="
  ../../../faq/answers/
">Appendix</a>
  
    
  </li>

        
      
    </ul>
</div></div>

                    <div class="show-sidebar-container">
                        <button class="show-sidebar">Docs Menu</button>
                    </div>

                    <div class="col-md-offset-3 col-md-9 documentation-viewer" role="main">
                        <div class="row doc-header">
                            <div class="col-sm-6">
                                
<ul class="nav nav-pills">
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <li class="active" role="presentation"><a href="../../get_started/introduction/">Mynewt OS</a></li>
    
    
    
    <li  role="presentation"><a href="../../../newt/newt_intro/">Newt Tool</a></li>
    
    
    
    <li  role="presentation"><a href="../../../newtmgr/overview/">Newt Mgr</a></li>
    
    
    
    
</ul>
                            </div>
                            <div class="col-sm-6">
                                <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="/documentation/">Docs</a></li>
    
    
        
          <li>&raquo; <a href="../../get_started/introduction/">Mynewt OS Manual</a></li>
        
      
        
          <li>&raquo; <a href="../olimex/">Tutorials</a></li>
        
      
      
        <li>&raquo; Blinky on STM32F303</li>
      
    
    
  </ul>
</div>
                            </div>
                        </div>
                        
                            <h2 id="blinky-on-stm32f303-board">Blinky on STM32F303 board<a class="headerlink" href="#blinky-on-stm32f303-board" title="Permanent link">&para;</a></h2>
<h3 id="objective">Objective<a class="headerlink" href="#objective" title="Permanent link">&para;</a></h3>
<p>Download a generic firmware skeleton ("bootstrap image") that applies to any hardware and then throw in additional applicable pkgs to generate a build for a specific board, namely the STM32F303VC MCU from STMicroelectronics.</p>
<h4 id="hardware-needed">Hardware needed<a class="headerlink" href="#hardware-needed" title="Permanent link">&para;</a></h4>
<ul>
<li>Discovery kit with STM32F303VC MCU</li>
<li>Laptop running Mac OS</li>
</ul>
<h4 id="step-by-step-instructions-to-build-image">Step by Step Instructions to build image<a class="headerlink" href="#step-by-step-instructions-to-build-image" title="Permanent link">&para;</a></h4>
<ul>
<li>The first step is to download the generic skeleton of the project. The pkgs constituting the skeleton are not hardware architecture specific. The skeleton is maintained as an app in a separate repository on Apache. You know it is an app because there is an app.yml file. </li>
</ul>
<div class="codehilite" style="background: #ffffff"><pre style="line-height: 125%">        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">app</span> <span style="color: #000000">create</span> <span style="color: #000000">test_project</span>
        <span style="color: #000000">Downloading</span> <span style="color: #000000">app</span> <span style="color: #000000">skeleton</span> <span style="color: #000000">from</span> <span style="color: #000000">https</span>:<span style="color: #177500">//git-wip-us.apache.org/repos/asf/incubator-mynewt-tadpole.git... ok!</span>
        <span style="color: #000000">app</span> <span style="color: #000000">test_project</span> <span style="color: #000000">successfully</span> <span style="color: #000000">created</span> <span style="color: #000000">in</span> <span style="color: #000000">~/dev/go/test_project</span>

        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev</span>]<span style="color: #000000">$</span> <span style="color: #000000">cd</span> <span style="color: #000000">test_project/</span>
        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">ls</span>
        <span style="color: #000000">README</span>.<span style="color: #000000">md</span>   <span style="color: #000000">compiler</span>    <span style="color: #000000">hw</span>      <span style="color: #000000">libs</span>    <span style="color: #000000">app</span>.<span style="color: #000000">yml</span>
</pre></div>


<ul>
<li>Next, the pkg-list named larva is added from the app (also named larva) from another repository on Apache. This step simply downloads the pkg-list description file and does not actually install the pkgs that constitute the pkg-list. The pkg-list description file (<code>pkg-list.yml</code>) will be used to check dependencies during the pkg install to ensure completeness. It serves as a reference for all the pkgs in the pkg-list that one can choose from and install.</li>
</ul>
<div class="codehilite" style="background: #ffffff"><pre style="line-height: 125%">        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">app</span> <span style="color: #000000">add-pkg-list</span> <span style="color: #000000">larva</span> <span style="color: #000000">https</span>:<span style="color: #177500">//git-wip-us.apache.org/repos/asf/incubator-mynewt-larva.git</span>
        <span style="color: #000000">Downloading</span> <span style="color: #000000">pkg-list</span>.<span style="color: #000000">yml</span> <span style="color: #000000">from</span> <span style="color: #000000">https</span>:<span style="color: #177500">//git-wip-us.apache.org/repos/asf/incubator-mynewt-larva.git/master... ok!</span>
        <span style="color: #000000">Verifying</span> <span style="color: #000000">pkg-list</span>.<span style="color: #000000">yml</span> <span style="color: #000000">format</span>...
        <span style="color: #000000">ok!</span>
        <span style="color: #000000">pkg-list</span> <span style="color: #000000">larva</span> <span style="color: #000000">successfully</span> <span style="color: #000000">installed</span> <span style="color: #000000">to</span> <span style="color: #000000">app</span>.
</pre></div>


<ul>
<li>The next step is to install relevant pkgs from the larva app from git server on Apache. The instructions assume that you know what application or project you are interested in (the blinky application, in this case), what hardware you are using (STM32F3DISCOVERY board, in this case) and hence, what board support package you need. </li>
</ul>
<div class="codehilite" style="background: #ffffff"><pre style="line-height: 125%">        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">pkg</span> <span style="color: #000000">install</span> <span style="color: #000000">project/blinky</span>          
        <span style="color: #000000">Downloading</span> <span style="color: #000000">larva</span> <span style="color: #000000">from</span> <span style="color: #000000">https</span>:<span style="color: #177500">//git-wip-us.apache.org/repos/asf/incubator-mynewt-larva/master... ok!</span>
        <span style="color: #000000">Installing</span> <span style="color: #000000">project/blinky</span>
        <span style="color: #000000">Installing</span> <span style="color: #000000">libs/console/full</span>
        <span style="color: #000000">Installing</span> <span style="color: #000000">libs/shell</span>
        <span style="color: #000000">Installation</span> <span style="color: #000000">was</span> <span style="color: #000000">a</span> <span style="color: #000000">success!</span>

        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">pkg</span> <span style="color: #000000">install</span> <span style="color: #000000">hw/bsp/stm32f3discovery</span>
        <span style="color: #000000">Downloading</span> <span style="color: #000000">larva</span> <span style="color: #000000">from</span> <span style="color: #000000">https</span>:<span style="color: #177500">//git-wip-us.apache.org/repos/asf/incubator-mynewt-larva/master... ok!</span>
        <span style="color: #000000">Installing</span> <span style="color: #000000">hw/bsp/stm32f3discovery</span>
        <span style="color: #000000">Installing</span> <span style="color: #000000">hw/mcu/stm/stm32f3xx</span>
        <span style="color: #000000">Installing</span> <span style="color: #000000">libs/cmsis-core</span>
        <span style="color: #000000">Installing</span> <span style="color: #000000">compiler/arm-none-eabi-m4</span>
        <span style="color: #000000">Installation</span> <span style="color: #000000">was</span> <span style="color: #000000">a</span> <span style="color: #000000">success!</span>
</pre></div>


<ul>
<li>It's time to create a targets for the project and define the target attributes. STM32F3 BSP expects bootloader, so create targets for both blinky and bootloader.</li>
</ul>
<div class="codehilite" style="background: #ffffff"><pre style="line-height: 125%">        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">target</span> <span style="color: #000000">create</span> <span style="color: #000000">blink_f3disc</span>
        <span style="color: #000000">Creating</span> <span style="color: #000000">target</span> <span style="color: #000000">blink_f3disc</span>
        <span style="color: #000000">Target</span> <span style="color: #000000">blink_f3disc</span> <span style="color: #000000">successfully</span> <span style="color: #000000">created!</span>

        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">target</span> <span style="color: #000000">set</span> <span style="color: #000000">blink_f3disc</span> <span style="color: #000000">project=blinky</span>
        <span style="color: #000000">Target</span> <span style="color: #000000">blink_f3disc</span> <span style="color: #000000">successfully</span> <span style="color: #000000">set</span> <span style="color: #000000">project</span> <span style="color: #000000">to</span> <span style="color: #000000">blinky</span>

        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">target</span> <span style="color: #000000">set</span> <span style="color: #000000">blink_f3disc</span> <span style="color: #000000">bsp=hw/bsp/stm32f3discovery</span>
        <span style="color: #000000">Target</span> <span style="color: #000000">blink_f3disc</span> <span style="color: #000000">successfully</span> <span style="color: #000000">set</span> <span style="color: #000000">bsp</span> <span style="color: #000000">to</span> <span style="color: #000000">hw/bsp/stm32f3discovery</span>

        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">target</span> <span style="color: #000000">set</span> <span style="color: #000000">blink_f3disc</span> <span style="color: #000000">compiler_def=debug</span>
        <span style="color: #000000">Target</span> <span style="color: #000000">blink_f3disc</span> <span style="color: #000000">successfully</span> <span style="color: #000000">set</span> <span style="color: #000000">compiler_def</span> <span style="color: #000000">to</span> <span style="color: #000000">debug</span>

        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">target</span> <span style="color: #000000">set</span> <span style="color: #000000">blink_f3disc</span> <span style="color: #000000">compiler=arm-none-eabi-m4</span>
        <span style="color: #000000">Target</span> <span style="color: #000000">blink_f3disc</span> <span style="color: #000000">successfully</span> <span style="color: #000000">set</span> <span style="color: #000000">compiler</span> <span style="color: #000000">to</span> <span style="color: #000000">arm-none-eabi-m4</span>

        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">target</span> <span style="color: #000000">set</span> <span style="color: #000000">blink_f3disc</span> <span style="color: #000000">arch=cortex_m4</span>
        <span style="color: #000000">Target</span> <span style="color: #000000">blink_f3disc</span> <span style="color: #000000">successfully</span> <span style="color: #000000">set</span> <span style="color: #000000">arch</span> <span style="color: #000000">to</span> <span style="color: #000000">cortex_m4</span>

        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">target</span> <span style="color: #000000">create</span> <span style="color: #000000">boot_f3disc</span>
        <span style="color: #000000">Creating</span> <span style="color: #000000">target</span> <span style="color: #000000">boot_f3disc</span>
        <span style="color: #000000">Target</span> <span style="color: #000000">boot_f3disc</span> <span style="color: #000000">successfully</span> <span style="color: #000000">created!</span>

        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">target</span> <span style="color: #000000">set</span> <span style="color: #000000">boot_f3disc</span> <span style="color: #000000">project=boot</span>
        <span style="color: #000000">Target</span> <span style="color: #000000">blink_f3disc</span> <span style="color: #000000">successfully</span> <span style="color: #000000">set</span> <span style="color: #000000">project</span> <span style="color: #000000">to</span> <span style="color: #000000">blinky</span>

        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">target</span> <span style="color: #000000">set</span> <span style="color: #000000">boot_f3disc</span> <span style="color: #000000">bsp=hw/bsp/stm32f3discovery</span>
        <span style="color: #000000">Target</span> <span style="color: #000000">boot_f3disc</span> <span style="color: #000000">successfully</span> <span style="color: #000000">set</span> <span style="color: #000000">bsp</span> <span style="color: #000000">to</span> <span style="color: #000000">hw/bsp/stm32f3discovery</span>

        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">target</span> <span style="color: #000000">set</span> <span style="color: #000000">boot_f3disc</span> <span style="color: #000000">compiler_def=optimized</span>
        <span style="color: #000000">Target</span> <span style="color: #000000">boot_f3disc</span> <span style="color: #000000">successfully</span> <span style="color: #000000">set</span> <span style="color: #000000">compiler_def</span> <span style="color: #000000">to</span> <span style="color: #000000">debug</span>

        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">target</span> <span style="color: #000000">set</span> <span style="color: #000000">boot_f3disc</span> <span style="color: #000000">compiler=arm-none-eabi-m4</span>
        <span style="color: #000000">Target</span> <span style="color: #000000">boot_f3disc</span> <span style="color: #000000">successfully</span> <span style="color: #000000">set</span> <span style="color: #000000">compiler</span> <span style="color: #000000">to</span> <span style="color: #000000">arm-none-eabi-m4</span>

        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">target</span> <span style="color: #000000">set</span> <span style="color: #000000">boot_f3disc</span> <span style="color: #000000">arch=cortex_m4</span>
        <span style="color: #000000">Target</span> <span style="color: #000000">boot_f3disc</span> <span style="color: #000000">successfully</span> <span style="color: #000000">set</span> <span style="color: #000000">arch</span> <span style="color: #000000">to</span> <span style="color: #000000">cortex_m4</span>

        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">target</span> <span style="color: #000000">show</span> <span style="color: #000000">blink_f3disc</span>
        <span style="color: #000000">blink_f3disc</span>
            <span style="color: #000000">arch=cortex_m4</span>
            <span style="color: #000000">bsp=hw/bsp/stm32f3discovery</span>
            <span style="color: #000000">compiler=arm-none-eabi-m4</span>
            <span style="color: #000000">compiler_def=debug</span>
            <span style="color: #000000">name=blink_f3disc</span>
            <span style="color: #000000">project=blinky</span>

        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">target</span> <span style="color: #000000">show</span> <span style="color: #000000">boot_f3disc</span>
        <span style="color: #000000">boot_f3disc</span>
            <span style="color: #000000">arch=cortex_m4</span>
            <span style="color: #000000">bsp=hw/bsp/stm32f3discovery</span>
            <span style="color: #000000">compiler=arm-none-eabi-m4</span>
            <span style="color: #000000">compiler_def=debug</span>
            <span style="color: #000000">name=blink_f3disc</span>
            <span style="color: #000000">project=boot</span>
</pre></div>


<ul>
<li>STM32F3 blinky project is too large to operate with newlib libc. You need to modify project/blinky/pkg.yml, and switch over to using baselibc.</li>
</ul>
<div class="codehilite" style="background: #ffffff"><pre style="line-height: 125%">        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">cat</span> <span style="color: #000000">project/blinky/pkg</span>.<span style="color: #000000">yml</span> 
        <span style="color: #000000">#</span>
        <span style="color: #633820"># Licensed to the Apache Software Foundation (ASF) under one</span>
        <span style="color: #633820"># or more contributor license agreements.  See the NOTICE file</span>
        <span style="color: #633820"># distributed with this work for additional information</span>
        <span style="color: #633820"># regarding copyright ownership.  The ASF licenses this file</span>
        <span style="color: #633820"># to you under the Apache License, Version 2.0 (the</span>
        <span style="color: #633820"># &quot;License&quot;); you may not use this file except in compliance</span>
        <span style="color: #633820"># with the License.  You may obtain a copy of the License at</span>
        <span style="color: #633820">#</span>
        <span style="color: #633820">#  http:</span><span style="color: #177500">//www.apache.org/licenses/LICENSE-2.0</span>
        <span style="color: #633820">#</span>
        <span style="color: #633820"># Unless required by applicable law or agreed to in writing,</span>
        <span style="color: #633820"># software distributed under the License is distributed on an</span>
        <span style="color: #633820"># &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span>
        <span style="color: #633820"># KIND, either express or implied.  See the License for the</span>
        <span style="color: #633820"># specific language governing permissions and limitations</span>
        <span style="color: #633820"># under the License.</span>
        <span style="color: #633820">#</span>

        <span style="color: #000000">pkg</span>.<span style="color: #000000">name</span>: <span style="color: #000000">project/blinky</span>
        <span style="color: #000000">pkg</span>.<span style="color: #000000">vers</span>: <span style="color: #1C01CE">0.8.0</span>
        <span style="color: #000000">pkg</span>.<span style="color: #000000">description</span>: <span style="color: #000000">Basic</span> <span style="color: #000000">example</span> <span style="color: #000000">application</span> <span style="color: #000000">which</span> <span style="color: #000000">blinks</span> <span style="color: #000000">an</span> <span style="color: #000000">LED</span>.
        <span style="color: #000000">pkg</span>.<span style="color: #000000">author</span>: <span style="color: #000000">Marko</span> <span style="color: #000000">Kiiskila</span> <span style="color: #000000">&lt;marko@runtime</span>.<span style="color: #000000">io&gt;</span>
        <span style="color: #000000">pkg</span>.<span style="color: #000000">homepage</span>: <span style="color: #000000">http</span>:<span style="color: #177500">//mynewt.apache.org/os/get_acclimated/project2/</span>
        <span style="color: #000000">pkg</span>.<span style="color: #000000">repository</span>: <span style="color: #000000">https</span>:<span style="color: #177500">//git-wip-us.apache.org/repos/asf/incubator-mynewt-larva</span>
        <span style="color: #000000">pkg</span>.<span style="color: #000000">keywords</span>:

        <span style="color: #000000">pkg</span>.<span style="color: #000000">deps</span>:
            <span style="color: #000000">-</span> <span style="color: #000000">libs/console/full</span>
            <span style="color: #000000">-</span> <span style="color: #000000">libs/newtmgr</span>
            <span style="color: #000000">-</span> <span style="color: #000000">libs/os</span>
            <span style="color: #000000">-</span> <span style="color: #000000">libs/shell</span>
            <span style="color: #000000">-</span> <span style="color: #000000">sys/config</span>
            <span style="color: #000000">-</span> <span style="color: #000000">sys/log</span>
            <span style="color: #000000">-</span> <span style="color: #000000">sys/stats</span>
            <span style="color: #000000">-</span> <span style="color: #000000">libs/baselibc</span>
</pre></div>


<ul>
<li>
<p>Next, you get to build the targets and generate an executable that can then be uploaded to the board. The STM32F3DISCOVERY board includes an ST-LINK/V2 embedded debug tool interface that will be used to program/debug the board. To program the MCU on the board, simply plug in the two jumpers on CN4, as shown in the picture in red. If you want to learn more about the board you will find the User Manual at <a href="http://www.st.com/st-web-ui/static/active/jp/resource/technical/document/user_manual/DM00063382.pdf">http://www.st.com/st-web-ui/static/active/jp/resource/technical/document/user_manual/DM00063382.pdf</a></p>
</li>
<li>
<p><img alt="STMdiscovery" src="../pics/STM32f3discovery_connector.png" /></p>
</li>
</ul>
<div class="codehilite" style="background: #ffffff"><pre style="line-height: 125%">        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">target</span> <span style="color: #000000">build</span> <span style="color: #000000">boot_f3disc</span>
        <span style="color: #000000">Building</span> <span style="color: #000000">target</span> <span style="color: #000000">boot_f3</span> (<span style="color: #000000">project</span> <span style="color: #000000">=</span> <span style="color: #000000">boot</span>)
        <span style="color: #000000">Compiling</span> <span style="color: #000000">asprintf</span>.<span style="color: #000000">c</span>
        <span style="color: #000000">Compiling</span> <span style="color: #000000">atoi</span>.<span style="color: #000000">c</span>
        ...
        ...
        <span style="color: #000000">Assembling</span> <span style="color: #000000">startup_stm32f303xc</span>.<span style="color: #000000">s</span>
        <span style="color: #000000">Archiving</span> <span style="color: #000000">libstm32f3discovery</span>.<span style="color: #000000">a</span>
        <span style="color: #000000">Compiling</span> <span style="color: #000000">boot</span>.<span style="color: #000000">c</span>
        <span style="color: #000000">Building</span> <span style="color: #000000">project</span> <span style="color: #000000">boot</span>
        <span style="color: #000000">Linking</span> <span style="color: #000000">boot</span>.<span style="color: #000000">elf</span>
        <span style="color: #000000">Successfully</span> <span style="color: #000000">run!</span>

        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">target</span> <span style="color: #000000">build</span> <span style="color: #000000">blink_f3disc</span>
        <span style="color: #000000">Building</span> <span style="color: #000000">target</span> <span style="color: #000000">blink_f3disc</span> (<span style="color: #000000">project</span> <span style="color: #000000">=</span> <span style="color: #000000">blinky</span>)
        <span style="color: #000000">Compiling</span> <span style="color: #000000">asprintf</span>.<span style="color: #000000">c</span>
        <span style="color: #000000">Compiling</span> <span style="color: #000000">atoi</span>.<span style="color: #000000">c</span>
        ...
        ...
        <span style="color: #000000">Assembling</span> <span style="color: #000000">startup_stm32f303xc</span>.<span style="color: #000000">s</span>
        <span style="color: #000000">Archiving</span> <span style="color: #000000">libstm32f3discovery</span>.<span style="color: #000000">a</span>
        <span style="color: #000000">Compiling</span> <span style="color: #000000">main</span>.<span style="color: #000000">c</span>
        <span style="color: #000000">Building</span> <span style="color: #000000">project</span> <span style="color: #000000">blinky</span>
        <span style="color: #000000">Linking</span> <span style="color: #000000">blinky</span>.<span style="color: #000000">elf</span>
        <span style="color: #000000">Successfully</span> <span style="color: #000000">run!</span>

        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">target</span> <span style="color: #000000">build</span> <span style="color: #000000">boot_f3disc</span>
        <span style="color: #000000">Building</span> <span style="color: #000000">target</span> <span style="color: #000000">boot_f3disc</span> (<span style="color: #000000">project</span> <span style="color: #000000">=</span> <span style="color: #000000">boot</span>)
        <span style="color: #000000">Building</span> <span style="color: #000000">project</span> <span style="color: #000000">boot</span>
        <span style="color: #000000">Successfully</span> <span style="color: #000000">run!</span>

        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">target</span> <span style="color: #000000">create-image</span> <span style="color: #000000">blink_f3disc</span> <span style="color: #1C01CE">0.0.1</span>
        <span style="color: #000000">Building</span> <span style="color: #000000">target</span> <span style="color: #000000">blink_f3disc</span> (<span style="color: #000000">project</span> <span style="color: #000000">=</span> <span style="color: #000000">blinky</span>)
        <span style="color: #000000">Building</span> <span style="color: #000000">project</span> <span style="color: #000000">blinky</span>
</pre></div>


<ul>
<li>Finally, you have to download the image on to the board. You will see a blue light start to blink.</li>
</ul>
<div class="codehilite" style="background: #ffffff"><pre style="line-height: 125%">        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">target</span> <span style="color: #000000">download</span> <span style="color: #000000">boot_f3disc</span>
        <span style="color: #000000">Downloading</span> <span style="color: #000000">with</span> <span style="color: #000000">/Users/user/dev/test_project/hw/bsp/stm32f3discovery/stm32f3discovery_download</span>.<span style="color: #000000">sh</span>

        [<span style="color: #000000">user</span>:<span style="color: #000000">~/dev/test_project</span>]<span style="color: #000000">$</span> <span style="color: #000000">newt</span> <span style="color: #000000">target</span> <span style="color: #000000">download</span> <span style="color: #000000">blink_f3disc</span>
        <span style="color: #000000">Downloading</span> <span style="color: #000000">with</span> <span style="color: #000000">/Users/user/dev/test_project/hw/bsp/stm32f3discovery/stm32f3discovery_download</span>.<span style="color: #000000">sh</span>
</pre></div>
                        
                        <div class="row">
                            <footer>
    <div class="row">
        <div class="col-md-12">
            
                <p class="copyright">Copyright &copy; 2015 The Apache Software Foundation, Licensed under the Apache License, Version 2.0 Apache and the Apache feather logo are trademarks of The Apache Software Foundation.<br>The Apache Software Foundation Apache Incubator</p>
            
        </div>
    </div>
    <div class="copyright-logos">
        <div class="row">
            <div class="col-xs-6 text-right">
                <img src="/img/apache-feather.png" alt="Apache" title="Apache">
            </div>
            <div class="col-xs-6 text-left">
                <img src="/img/apache-logo.png" alt="Apache Incubator" title="Apache Incubator">
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <small class="footnote">
                MyNewt is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.
            </small>
        </div>
    </div>
</footer>
                        </div>
                    </div>
                </div>
            
            
        </div>

        <script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script src="../../../js/base.js"></script>
        <script src="../../../js/custom.js"></script>

    </body>
</html>