<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <!-- This is broken by doc revisioning.
        <link rel="canonical" href="http://mynewt.apache.org/faq/go_env/"> -->
        <link rel="shortcut icon" href="../../img/favicon.ico">

	    <title>Setting Up Go to Contribute to Newt and Newtmgr Tools - Apache Mynewt</title>

        <link href="../../css/bootstrap-3.0.3.min.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">
        <link href="../../css/custom.css" rel="stylesheet">
        <link href="../../css/v2.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
        <link href="../../extra.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
            <script>
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-72162311-1', 'auto');
                ga('send', 'pageview');
            </script>
        
    </head>


    <body class="Setting Up Go to Contribute to Newt and Newtmgr Tools">


        <div class="container">
    <div class="row v2-main-banner">
        <a class="logo-cell" href="/">
            <img class="logo" src="/img/logo.png">
        </a>
        <div class="tagline-cell">
            <h4 class="tagline">An OS to build, deploy and securely manage billions of devices</h4>
        </div>
        <div class="news-cell">
            <div class="well">
                <h4>Latest News:</h4> <a href="/download">Apache Mynewt 1.0.0</a> released (March 22, 2017)
            </div>
        </div>
    </div>
</div>

        






<nav id="navbar" class="navbar navbar-inverse affix-top" data-spy="affix" data-offset-top="150" role="navigation">
    <div class="container">
        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav navbar-right">
                <li 
  class=""
>
                    <a href="/"><i class="fa fa-home" style="font-size: larger;"></i></a>
                </li>
                <li 
  class="important"
>
                    <a href="/quick-start/">Quick Start</a>
                </li>
                <li 
  class=""
>
                    <a href="/about/">About</a>
                </li>
                <li 
  class=""
>
                    <a href="/talks/">Talks</a>
                </li>
                <li 
  class="active"
>
                    <a href="/latest/os/introduction">Documentation</a>
                </li>
                <li 
  class=""
>
                    <a href="/download/">Download</a>
                </li>
                <li 
  class=""
>
                    <a href="/community/">Community</a>
                </li>
                <li 
  class=""
>
                    <a href="/events/">Events</a>
                </li>
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
            </ul>
        </div>
    </div>
</nav>

        

        <div class="container">
            
                <div class="row">
                    <div class="col-md-3 v2-sidebar sidebar-container"><div id="docSidebar" class="hidden-print" role="complementary">
    <div class="top">
        <div role="search">
            <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
                <div class="form-group">
                    <input type="text" name="q" class="form-control" placeholder="Search documentation" />
                </div>
            </form>
        </div>
    </div>
    <ul class="toc-nav">
      <li class="doc-version">
<select class="form-control" onchange="if (this.value) window.location.href=this.value">
    
    <option
      value="/develop/os/introduction"
      selected="selected"
    >
      Version: develop (latest)
    </option>
    
    <option
      value="/v0_9_0/os/introduction"
      
    >
      Version: 0.9.0
    </option>
    
</select>
</li>
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
  
  
    <li ><a href="../../os/introduction/">Mynewt Documentation</a>
  
  
    </li>

        
      
        
          
  
  
    <li><a href="
  ./
">Appendix</a>
  
  
    <ul>
          
              
                
    <li class="active">
      <a href="./">Setting Up Go to Contribute to Newt and Newtmgr Tools</a>
    </li>

              
          
              
                
    <li >
      <a href="../how_to_edit_docs/">Edit Docs</a>
    </li>

              
          
              
                
    <li >
      <a href="../answers/">FAQ</a>
    </li>

              
          
    </ul>
  
    </li>

        
      
    </ul>
</div></div>

                    <div class="col-md-9" role="main">
                        <div class="doc-header">
                            <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs pull-right">
    <li><a href="/develop/os/introduction">Docs</a></li>
    
    
        
          <li>&raquo; Appendix</li>
        
      
      
        <li>&raquo; Setting Up Go to Contribute to Newt and Newtmgr Tools</li>
      
    
    
  </ul>
</div>
                        </div>
                        
                            <h2 id="contributing-to-newt-and-newtmgr-tools">Contributing to Newt and Newtmgr Tools</h2>
<p>Newt and Newtmgr are written in Go (golang). This guide shows you how to install Go and setup your environment if
you would like to contribute to the newt or newtmgr tools.</p>
<p>This guide shows you how to perform the following:</p>
<ol>
<li>Install Go on either Mac OS or Linux.</li>
<li>Setup the Go environment.</li>
<li>Download the newt and newtmgr source code.</li>
<li>Build the newt and newtmgr tools.</li>
<li>Update and rebuild the tools. </li>
</ol>
<p>Steps 2-5 apply to both Mac OS and Linux platforms.</p>
<p><strong>Note:</strong> You will also need to read and follow the instructions from <a href="../../faq/answers/">FAQ</a> to set up your git repos to submit changes.</p>
<h3 id="step-1-installing-go">Step 1: Installing Go</h3>
<p>The latest master branch of newt and newtmgr requires GO version 1.6 or higher.
<br></p>
<h4 id="installing-go-on-mac-os-x">Installing Go on Mac OS X</h4>
<p>If you do not have Homebrew installed, run the following command. You will be prompted for your sudo password.</p>
<div class="codehilite" style="background: #ffffff"><pre style="line-height: 125%">$ ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;
</pre></div>


<p>You can also extract (or <code>git clone</code>) Homebrew and install it to /usr/local.</p>
<p><br>
Use brew to install Go:</p>
<div class="codehilite" style="background: #ffffff"><pre style="line-height: 125%">$ brew install go
==&gt; 
...
... 
==&gt; *Summary*
üç∫  //usr/local/Cellar/go/1.8.1: 7,030 files, 281.8MB, built in 1 minute 12 seconds
</pre></div>


<p>You can also download the Go package directly from (https://golang.org/dl/) instead of brewing it. Install it in /usr/local directory.</p>
<p><br></p>
<h4 id="installing-go-on-linux">Installing Go on Linux</h4>
<p>Use apt-get to install Go: </p>
<div class="codehilite" style="background: #ffffff"><pre style="line-height: 125%">$sudo apt-get update
$sudo apt-get install golang 
Reading package lists... Done
Building dependency tree       
Reading state information... Done

      ...

The following NEW packages will be installed:
  golang
0 upgraded, 1 newly installed, 0 to remove and 43 not upgraded.
Need to get 0 B/2,812 B of archives.
After this operation, 10.2 kB of additional disk space will be used.
Selecting previously unselected package golang.
(Reading database ... 244990 files and directories currently installed.)
Preparing to unpack .../golang_2%3a1.6.1+1ubuntu2_all.deb ...
Unpacking golang (2:1.6.1+1ubuntu2) ...
Setting up golang (2:1.6.1+1ubuntu2) ...
$ go version
go version go1.6.3 linux/amd64
</pre></div>


<p><br></p>
<h3 id="step-2-setting-up-your-go-environment">Step 2: Setting Up Your Go Environment</h3>
<p>Go provides an environment to compile Go code, construct Go packages,  and import Go code.  You will use Go commands to import the <strong>newt</strong> repository into your local Go environment.  The Go language environment dictates a specific directory structure, or workspace in Go parlance. It must contain three sibling directories with the names <strong>src</strong>, <strong>pkg</strong> and <strong>bin</strong>: </p>
<ul>
<li>src contains Go source files organized into packages (one package per directory)</li>
<li>pkg contains package objects</li>
<li>bin contains executable commands.</li>
</ul>
<p>The <strong>GOPATH</strong> environment variable specifies the location of your workspace. To setup this workspace environment, create a <strong>dev</strong> directory and then a <strong>go</strong> directory under it. Set the GOPATH environment variable to this directory where you will clone the newt repository.</p>
<div class="codehilite" style="background: #ffffff"><pre style="line-height: 125%">$ cd $HOME
$ mkdir -p dev/go  
$ cd dev/go
$ export GOPATH=`pwd`
</pre></div>


<p><br>
Add the export GOPATH statement to the ~/.bash_profile file and source the file:</p>
<div class="codehilite" style="background: #ffffff"><pre style="line-height: 125%">$ vi ~/.bash_profile
$ source ~/.bash_profile
</pre></div>


<p><br></p>
<h3 id="step-3-downloading-the-source">Step 3: Downloading the Source</h3>
<p>Use Go commands to retrieve the latest source from the newt repository (currently the ASF incubator directory). Check that the directories are installed.</p>
<div class="codehilite" style="background: #ffffff"><pre style="line-height: 125%">$ go get mynewt.apache.org/newt/...
$ ls $GOPATH/src/mynewt.apache.org/newt
DISCLAIMER  NOTICE      newt        newtvm      viper
LICENSE     README.md   newtmgr     util        yaml
</pre></div>


<p><br></p>
<h3 id="step-4-building-the-newt-and-newtmgr-tools">Step 4: Building the Newt and Newtmgr Tools</h3>
<p>Perform the following commands to build the tools:</p>
<div class="codehilite" style="background: #ffffff"><pre style="line-height: 125%">$ cd $GOPATH/src/mynewt.apache.org/newt/newt
$ go install
$ ls $GOPATH/bin/
newt newtmgr newtvm
</pre></div>


<p><br></p>
<h3 id="step-5-updating-and-rebuilding-the-tools">Step 5: Updating and Rebuilding the Tools</h3>
<p>Change to the directory where you initially installed the source: </p>
<div class="codehilite" style="background: #ffffff"><pre style="line-height: 125%">$ cd $GOPATH/src/mynewt.apache.org/newt
</pre></div>


<p><br>
Pull the latest source from the repository (you can change to a different branch using git checkout [branch] if you need to)</p>
<div class="codehilite" style="background: #ffffff"><pre style="line-height: 125%">$ git pull
</pre></div>


<p><br>
Install the tools from the latest source:</p>
<div class="codehilite" style="background: #ffffff"><pre style="line-height: 125%">$ cd newt
$ go install
$ cd ../newtmgr
$ go install
$ ls $GOPATH /bin/
newt newtmgr newtvm
</pre></div>


<p>This should have updated your newt and newtmgr to the latest version based on the git repository you used.</p>
                        
                        <div class="row">
                            



<ul class="nav nav-pills" style="margin-bottom: 10px">
    <li>
    
    <a href=../../newtmgr/install_linux/>
        <span class="fa fa-arrow-left"></span>
        Previous: Install Newtmgr On Linux
    </a>
    
    </li>
    <li class="pull-right">
    
    <a href=../how_to_edit_docs/>
        Next: Edit Docs
        <span class="fa fa-arrow-right"></span>
    </a>
    
    </li>
</ul>
                        </div>
                        <footer class="row">
    <div class="col-xs-12">
        
            <p class="copyright">Apache Mynewt (incubating) is available under Apache License, version 2.0.</p>
        
    </div>
    <div class="col-xs-12">
        <div class="logos">
            <img src="/img/asf_logo_wide_small.png" alt="Apache" title="Apache">
            <small class="footnote">
                MyNewt is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.
            </small>
            <img src="/img/egg-logo2.png" alt="Apache Incubator" title="Apache Incubator">
        </div>
    </div>
</footer>
                    </div>
                </div>
            
            
        </div>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script src="../../js/base.js"></script>
        <script src="../../js/custom.js"></script>

    </body>
</html>