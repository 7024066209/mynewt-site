<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <!-- This is broken by doc revisioning.
        <link rel="canonical" href="http://mynewt.apache.org/network/ble/ble_hs/init/definitions/init_defs/"> -->
        <link rel="shortcut icon" href="../../../../../../img/favicon.ico">

	    <title>Init and config definitions - Apache Mynewt</title>

        <link href="../../../../../../css/bootstrap-3.0.3.min.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../../../../css/highlight.css">
        <link href="../../../../../../css/base.css" rel="stylesheet">
        <link href="../../../../../../css/custom.css" rel="stylesheet">
        <link href="../../../../../../css/v2.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
        <link href="../../../../../../extra.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
            <script>
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-72162311-1', 'auto');
                ga('send', 'pageview');
            </script>
        
    </head>


    <body class="Init and config definitions">


        <div class="container">
    <div class="row v2-main-banner">
        <a class="logo-cell" href="/">
            <img class="logo" src="/img/logo.png">
        </a>
        <div class="tagline-cell">
            <h4 class="tagline">An OS to build, deploy and securely manage billions of devices</h4>
        </div>
        <div class="news-cell">
            <div class="well">
                <h4>Latest News:</h4> <a href="/download">Apache Mynewt 1.0.0</a> released (March 22, 2017)
            </div>
        </div>
    </div>
</div>

        






<nav id="navbar" class="navbar navbar-inverse affix-top" data-spy="affix" data-offset-top="150" role="navigation">
    <div class="container">
        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav navbar-right">
                <li 
  class=""
>
                    <a href="/"><i class="fa fa-home" style="font-size: larger;"></i></a>
                </li>
                <li 
  class="important"
>
                    <a href="/quick-start/">Quick Start</a>
                </li>
                <li 
  class=""
>
                    <a href="/about/">About</a>
                </li>
                <li 
  class=""
>
                    <a href="/talks/">Talks</a>
                </li>
                <li 
  class="active"
>
                    <a href="/latest/os/introduction">Documentation</a>
                </li>
                <li 
  class=""
>
                    <a href="/download/">Download</a>
                </li>
                <li 
  class=""
>
                    <a href="/community/">Community</a>
                </li>
                <li 
  class=""
>
                    <a href="/events/">Events</a>
                </li>
            </ul>

        </div>
    </div>
</nav>

        

        <div class="container">
            
                <div class="row">
                    <div class="col-md-3 v2-sidebar sidebar-container"><div id="docSidebar" class="hidden-print" role="complementary">
    <div class="top">
        <div role="search">
            <form id="rtd-search-form" class="wy-form" action="../../../../../../search.html" method="get">
                <div class="form-group">
                    <input type="text" name="q" class="form-control" placeholder="Search documentation" />
                </div>
            </form>
        </div>
    </div>
    <ul class="toc-nav">
      <li class="doc-version">
<select class="form-control" onchange="if (this.value) window.location.href=this.value">
    
    <option
      value="/develop/os/introduction"
      selected="selected"
    >
      Version: develop (latest)
    </option>
    
    <option
      value="/v0_9_0/os/introduction"
      
    >
      Version: 0.9.0
    </option>
    
    <option
      value="/v1_0_0/os/introduction"
      
    >
      Version: 1.0.0
    </option>
    
</select>
</li>
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
  
  
    <li ><a href="../../../../../../os/introduction/">Mynewt Documentation</a>
  
  
    <ul>
          
              
          
              
                
  
  
    <li ><a href="../../../../../../os/get_started/get_started/">Basic Setup</a>
  
  
    </li>

              
          
              
                
    <li >
      <a href="../../../../../../os/get_started/vocabulary/">Concepts</a>
    </li>

              
          
              
                
  
  
    <li ><a href="../../../../../../os/tutorials/tutorials/">Tutorials</a>
  
  
    </li>

              
          
              
                
  
  
    <li ><a href="../../../../../../os/os_user_guide/">OS User Guide</a>
  
  
    </li>

              
          
              
                
  
  
    <li><a href="
  ../../../../ble_intro/
">BLE User Guide</a>
  
  
    <ul>
          
              
                
    <li >
      <a href="../../../../ble_intro/">NimBLE Introduction</a>
    </li>

              
          
              
                
    <li >
      <a href="../../../../ble_sec/">NimBLE Security</a>
    </li>

              
          
              
                
    <li >
      <a href="../../../../nimble_setup/">Set up application</a>
    </li>

              
          
              
                
  
  
    <li ><a href="../../../../ini_stack/ble_ini_intro/">Initialize stack</a>
  
  
    </li>

              
          
              
                
  
  
    <li ><a href="../../../ble_hs/">NimBLE Host API</a>
  
  
    <ul>
          
              
          
              
                
    <li >
      <a href="../../../ble_hs_return_codes/">Return codes</a>
    </li>

              
          
              
                
  
  
    <li ><a href="../../init/">Init and config</a>
  
  
    <ul>
          
              
          
              
                
  
  
    <li><a href="
  ./
">Definitions</a>
  
  
    <ul>
          
              
                
    <li class="active">
      <a href="./">Init and config definitions</a>
    </li>

              
          
    </ul>
  
    </li>

              
          
              
                
  
  
    <li><a href="
  ../../functions/ble_hs_start/
">Functions</a>
  
  
    </li>

              
          
    </ul>
  
    </li>

              
          
              
                
  
  
    <li ><a href="../../../ble_gap/ble_gap/">GAP</a>
  
  
    </li>

              
          
              
                
  
  
    <li ><a href="../../../ble_gattc/ble_gattc/">GATT client</a>
  
  
    </li>

              
          
              
                
  
  
    <li ><a href="../../../ble_gatts/ble_gatts/">GATT server</a>
  
  
    </li>

              
          
              
                
  
  
    <li ><a href="../../../ble_hs_id/ble_hs_id/">Identity</a>
  
  
    </li>

              
          
              
                
  
  
    <li ><a href="../../../ble_att/ble_att/">ATT</a>
  
  
    </li>

              
          
              
                
  
  
    <li ><a href="../../../other/other/">Other</a>
  
  
    </li>

              
          
    </ul>
  
    </li>

              
          
              
                
  
  
    <li ><a href="../../../../bletiny/bletiny_api/">bletiny app Usage API</a>
  
  
    </li>

              
          
    </ul>
  
    </li>

              
          
              
                
  
  
    <li ><a href="../../../../../../newt/newt_intro/">Newt Tool Guide</a>
  
  
    </li>

              
          
              
                
  
  
    <li ><a href="../../../../../../newtmgr/overview/">Newt Manager Guide</a>
  
  
    </li>

              
          
    </ul>
  
    </li>

        
      
        
          
  
  
    <li><a href="
  ../../../../../../faq/go_env/
">Appendix</a>
  
  
    </li>

        
      
    </ul>
</div></div>

                    <div class="col-md-9" role="main">
                        <div class="doc-header">
                            <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="/develop/os/introduction">Docs</a></li>
    
    
        
          <li>&raquo; <a href="../../init/">Init and config</a></li>
        
      
        
          <li>&raquo; Definitions</li>
        
      
      
        <li>&raquo; Init and config definitions</li>
      
    
    
      <li class="wy-breadcrumbs-aside">
        
          <a href="https://github.com/apache/incubator-mynewt-site/blob/develop/docs/network/ble/ble_hs/init/definitions/init_defs.md"
            class="icon icon-github"> Edit on GitHub</a>
        
      </li>
    
  </ul>
</div>
                        </div>
                        
                        
                            <h2 id="other-definitions"><font color="#F2853F" style="font-size:24pt">Other definitions</font></h2>
<pre class="codehilite"><code class="language-c">/* Defines the IO capabilities for the local device. */
#define BLE_HS_IO_DISPLAY_ONLY              0x00
#define BLE_HS_IO_DISPLAY_YESNO             0x01
#define BLE_HS_IO_KEYBOARD_ONLY             0x02
#define BLE_HS_IO_NO_INPUT_OUTPUT           0x03
#define BLE_HS_IO_KEYBOARD_DISPLAY          0x04</code></pre>


<pre class="codehilite"><code class="language-c">struct ble_hs_cfg {
    /*** HCI settings. */
    /**
     * An HCI buffer is a &quot;flat&quot; 260-byte buffer.  HCI buffers are used by the
     * controller to send unsolicited events to the host.
     *
     * HCI buffers can get tied up when the controller sends lots of
     * asynchronous / unsolicited events (i.e., non-acks).  When the controller
     * needs to send one of these events, it allocates an HCI buffer, fills it
     * with the event payload, and puts it on a host queue.  If the controller
     * sends a quick burst of these events, the buffer pool may be exhausted,
     * preventing the host from sending an HCI command to the controller.
     *
     * Every time the controller sends a non-ack HCI event to the host, it also
     * allocates an OS event (it is unfortunate that these are both called
     * &quot;events&quot;).  The OS event is put on the host-parent-task's event queue;
     * it is what wakes up the host-parent-task and indicates that an HCI event
     * needs to be processsed.  The pool of OS events is allocated with the
     * same number of elements as the HCI buffer pool.
     */
    uint8_t max_hci_bufs;

    /*** Connection settings. */
    /**
     * The maximum number of concurrent connections.  This is set
     * automatically according to the build-time option
     * NIMBLE_OPT_MAX_CONNECTIONS.
     */
    uint8_t max_connections;

    /*** GATT server settings. */
    /**
     * These are acquired at service registration time and never freed.  You
     * need one of these for every service that you register.
     */
    uint16_t max_services;

    /**
     * The total number of in-RAM client characteristic configuration
     * descriptors (CCCDs).  One of these is consumed each time a peer
     * subscribes to notifications or indications for a characteristic that
     * your device serves.  In addition, at service registration time, the host
     * uses one of these for each characteristic that supports notifications or
     * indications.  So, the formula which guarantees no resource exhaustion
     * is:
     *     (num-subscribable-characteristics) * (max-connections + 1)
     */
    uint16_t max_client_configs;

    /**
     * An optional callback that gets executed upon registration of each GATT
     * resource (service, characteristic, or descriptor).
     */
    ble_gatt_register_fn *gatts_register_cb;

    /**
     * An optional argument that gets passed to the GATT registration
     * callback.
     */
    void *gatts_register_arg;

    /*** GATT client settings. */
    /**
     * The maximum number of concurrent GATT client procedures.  When you
     * initiate a GATT procedure (e.g., read a characteristic, discover
     * services, etc.), one of these is consumed.  The resource is freed when
     * the procedure completes.
     */
    uint8_t max_gattc_procs;

    /*** ATT server settings. */
    /**
     * The total number of local ATT attributes.  Attributes are consumed at
     * service registration time and are never freed.  Attributes are used by
     * GATT server entities: services, characteristics, and descriptors
     * according to the following formula:
     *     (num-services + (num-characteristics * 2) + num-descriptors)
     *
     * Every characteristic that supports indications or notifications
     * automatically gets a descriptor.  All other descriptors are specified by
     * the application at service registration time.
     */
    uint16_t max_attrs;

    /**
     * A GATT server uses these when a peer performs a &quot;write long
     * characteristic values&quot; or &quot;write long characteristic descriptors&quot;
     * procedure.  One of these resources is consumed each time a peer sends a
     * partial write.  These procedures are not used often.
     */
    uint8_t max_prep_entries;

    /*** L2CAP settings. */
    /**
     * Each connection requires three L2CAP channels (signal, ATT, and security
     * manager).  In addition, the nimble host may allow channels to be created
     * &quot;on the fly&quot; (connection-oriented channels).  This functionality is not
     * available at the moment, so a safe formula to use is:
     *     (max-connections * 3)
     */
    uint8_t max_l2cap_chans;

    /**
     * The maximum number of concurrent L2CAP signalling procedures.  Only one
     * L2CAP signalling procedure is supported: slave-initiated connection
     * update.  You will never need more of these than the max number of
     * connections.
     */
    uint8_t max_l2cap_sig_procs;

    /**
     * The maximum number of concurrent security manager procedures.  Security
     * manager procedures include pairing and restoration of a bonded link.
     */
    uint8_t max_l2cap_sm_procs;

    /*** Security manager settings. */
    uint8_t sm_io_cap;
    unsigned sm_oob_data_flag:1;
    unsigned sm_bonding:1;
    unsigned sm_mitm:1;
    unsigned sm_sc:1;
    unsigned sm_keypress:1;
    uint8_t sm_our_key_dist;
    uint8_t sm_their_key_dist;

    /*** Store settings. */
    /**
     * These function callbacks handle persistence of sercurity material
     * (bonding).
     */
    ble_store_read_fn *store_read_cb;
    ble_store_write_fn *store_write_cb;
    ble_store_delete_fn *store_delete_cb;

    /*** privacy settings */
    /**
     * The frequency at which new resovlable private addresses are generated.
     * Units are seconds.
     */
    uint16_t rpa_timeout;
};</code></pre>


<pre class="codehilite"><code class="language-c">extern const struct ble_hs_cfg ble_hs_cfg_dflt;</code></pre>
                        
                        <div class="row">
                            



<ul class="nav nav-pills" style="margin-bottom: 10px">
    <li>
    
    <a href=../../init/>
        <span class="fa fa-arrow-left"></span>
        Previous: Init and config
    </a>
    
    </li>
    <li class="pull-right">
    
    <a href=../../functions/ble_hs_start/>
        Next: ble_hs_start
        <span class="fa fa-arrow-right"></span>
    </a>
    
    </li>
</ul>
                        </div>
                        <footer class="row">
    <div class="col-xs-12">
        
            <p class="copyright">Apache Mynewt is available under Apache License, version 2.0.</p>
        
    </div>
    <div class="col-xs-12">
        <div class="logos">
            <img src="/img/asf_logo_wide_small.png" alt="Apache" title="Apache">
            <small class="footnote">
            Apache Mynewt, Mynewt, Apache, the Apache feather logo, and the Apache Mynewt project logo are either registered trademarks or trademarks of the Apache Software Foundation in the United States and other countries.
            </small>
             <a href="https://join.slack.com/mynewt/shared_invite/MTkwMTg1ODM1NTg5LTE0OTYxNzQ4NzQtZTU1YmNhYjhkMg"><img src="https://www.countit.com/images/add_to_slack.png" alt="Slack Icon" title="Join our Slack Community" /></a>
        </div>
    </div>
</footer>
                    </div>
                </div>
            
            
        </div>

        <script src="../../../../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../../../../js/highlight.pack.js"></script>
        <script src="../../../../../../js/base.js"></script>
        <script src="../../../../../../js/custom.js"></script>

    </body>
</html>